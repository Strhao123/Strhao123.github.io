<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://hwchen.top/codenotes/back/javaweb/Servlet.html"><meta property="og:site_name" content="Ahzy"><meta property="og:title" content="Servlet"><meta property="og:description" content="1. SelvetåŸºç¡€ JavaEE è§„èŒƒä¹‹ä¸€ï¼Œè§„èŒƒå°±æ˜¯æ¥å£ JavaWeb[1] ä¸‰å¤§ç»„ä»¶[2]ä¹‹ä¸€ è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ª java å°ç¨‹åºï¼ˆç”±Tomcatè§£æå’Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥æ¥æ”¶è¯·æ±‚å“åº”æ•°æ® ç”±javaç¼–å†™ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªjavaç±» servlet3.0 å‰ä½¿ç”¨ web.xml , servlet3.0 ç‰ˆæœ¬ä»¥å(åŒ…æ‹¬ 3.0)æ”¯æŒæ³¨è§£ï¼ŒåŒæ—¶æ”¯æŒweb...."><meta property="og:type" content="website"><meta property="og:image" content="https://gitee.com/private_crh/notes/raw/master/typora/image-20241002204224295.jpeg"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="Ahzy"><meta property="article:tag" content="javaweb"><meta property="article:published_time" content="2024-10-07T00:00:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Servlet","description":"1. SelvetåŸºç¡€ JavaEE è§„èŒƒä¹‹ä¸€ï¼Œè§„èŒƒå°±æ˜¯æ¥å£ JavaWeb[1] ä¸‰å¤§ç»„ä»¶[2]ä¹‹ä¸€ è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ª java å°ç¨‹åºï¼ˆç”±Tomcatè§£æå’Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥æ¥æ”¶è¯·æ±‚å“åº”æ•°æ® ç”±javaç¼–å†™ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªjavaç±» servlet3.0 å‰ä½¿ç”¨ web.xml , servlet3.0 ç‰ˆæœ¬ä»¥å(åŒ…æ‹¬ 3.0)æ”¯æŒæ³¨è§£ï¼ŒåŒæ—¶æ”¯æŒweb...."}</script><link rel="icon" href="/favicon.svg"><meta name="referrer" content="no-referrer"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/img/pwa/48.png" type="image/png" sizes="48x48"><link rel="icon" href="/img/pwa/72.png" type="image/png" sizes="72x72"><link rel="icon" href="/img/pwa/144.png" type="image/png" sizes="144x144"><link rel="icon" href="/img/pwa/192.png" type="image/png" sizes="192x192"><link rel="icon" href="/img/pwa/512.png" type="image/png" sizes="512x512"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#af7ac5"><link rel="apple-touch-icon" href="/img/pwa/48.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/img/pwa/48.png"><meta name="msapplication-TileColor" content="#af7ac5"><link rel="alternate" type="application/atom+xml" href="https://hwchen.top/atom.xml" title="Ahzy Atom Feed"><link rel="alternate" type="application/json" href="https://hwchen.top/feed.json" title="Ahzy JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://hwchen.top/rss.xml" title="Ahzy RSS Feed"><title>Servlet | Ahzy</title><meta name="description" content="1. SelvetåŸºç¡€ JavaEE è§„èŒƒä¹‹ä¸€ï¼Œè§„èŒƒå°±æ˜¯æ¥å£ JavaWeb[1] ä¸‰å¤§ç»„ä»¶[2]ä¹‹ä¸€ è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ª java å°ç¨‹åºï¼ˆç”±Tomcatè§£æå’Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥æ¥æ”¶è¯·æ±‚å“åº”æ•°æ® ç”±javaç¼–å†™ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªjavaç±» servlet3.0 å‰ä½¿ç”¨ web.xml , servlet3.0 ç‰ˆæœ¬ä»¥å(åŒ…æ‹¬ 3.0)æ”¯æŒæ³¨è§£ï¼ŒåŒæ—¶æ”¯æŒweb....">
    <link rel="preload" href="/assets/style-DKCFkj7Y.css" as="style"><link rel="stylesheet" href="/assets/style-DKCFkj7Y.css">
    <link rel="modulepreload" href="/assets/app-eWV4nnR8.js"><link rel="modulepreload" href="/assets/Servlet.html-B0ngFF-j.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><!----><!----><span class="vp-site-name">Ahzy</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ğŸ“‘ å­¦ä¹ ç¬”è®°"><!--[--><!---->ğŸ“‘ å­¦ä¹ ç¬”è®°<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codenotes/ui/" aria-label="å‰ç«¯"><!--[--><img class="icon" src="/icon/juanzhou2.svg" alt aria-hidden no-view style=""><!--]-->å‰ç«¯<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/codenotes/back/" aria-label="åç«¯"><!--[--><img class="icon" src="/icon/baodian.svg" alt aria-hidden no-view style=""><!--]-->åç«¯<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codenotes/basic/" aria-label="å­¦ç§‘åŸºç¡€"><!--[--><img class="icon" src="/icon/book2.svg" alt aria-hidden no-view style=""><!--]-->å­¦ç§‘åŸºç¡€<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="â­ ä¸ªäººåšå®¢"><!--[--><!---->â­ ä¸ªäººåšå®¢<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">éšç¬”</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/iter/" aria-label="æ‹¾ Â· è®°"><!--[--><img class="icon" src="/icon/huiyi.svg" alt aria-hidden no-view style=""><!--]-->æ‹¾ Â· è®°<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/cooker/" aria-label="æ†© Â· è•¾"><!--[--><img class="icon" src="/icon/food.svg" alt aria-hidden no-view style=""><!--]-->æ†© Â· è•¾<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/thinker/" aria-label="ç¦… Â· æ€"><!--[--><img class="icon" src="/icon/dazuo.svg" alt aria-hidden no-view style=""><!--]-->ç¦… Â· æ€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/feeling/" aria-label="é†‰ Â· ç¼˜"><!--[--><img class="icon" src="/icon/yezi.svg" alt aria-hidden no-view style=""><!--]-->é†‰ Â· ç¼˜<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ç¢°å£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/question/" aria-label="æƒ‘ Â· è§£"><!--[--><img class="icon" src="/icon/question.svg" alt aria-hidden no-view style=""><!--]-->æƒ‘ Â· è§£<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/tool/" aria-label="ç­‘ Â· ç´¯"><!--[--><img class="icon" src="/icon/shalou.svg" alt aria-hidden no-view style=""><!--]-->ç­‘ Â· ç´¯<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ–‡æ¡£"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span>æ–‡æ¡£<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">å‰ç«¯æ–‡æ¡£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.vite.dev/" aria-label="Vite" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vite.svg" alt aria-hidden no-view style=""><!--]-->Vite<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.vuejs.org/" aria-label="Vue3" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vue.svg" alt aria-hidden no-view style=""><!--]-->Vue3<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://router.vuejs.org/zh/" aria-label="Vue Router" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vuerouter.svg" alt aria-hidden no-view style=""><!--]-->Vue Router<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://vueuse.org/" aria-label="VueUse" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vueuse.svg" alt aria-hidden no-view style=""><!--]-->VueUse<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.windicss.org/" aria-label="Windi CSS" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/windicss.svg" alt aria-hidden no-view style=""><!--]-->Windi CSS<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://element-plus.org/zh-CN/component/overview.html" aria-label="Element-Plus" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/elementplus.svg" alt aria-hidden no-view style=""><!--]-->Element-Plus<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://www.axios-http.cn/" aria-label="Axios" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/axios.svg" alt aria-hidden no-view style=""><!--]-->Axios<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">åç«¯æ–‡æ¡£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://docs.oracle.com/javase/8/docs/api/index.html" aria-label="Java 8" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/java.svg" alt aria-hidden no-view style=""><!--]-->Java 8<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://tomcat.apache.org/tomcat-8.0-doc/servletapi/index.html" aria-label="Servlet" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/java.svg" alt aria-hidden no-view style=""><!--]-->Servlet<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://spring.io/" aria-label="Spring" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/spring.svg" alt aria-hidden no-view style=""><!--]-->Spring<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://docs.spring.io/spring-boot/index.html" aria-label="SpringBoot" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/springboot.svg" alt aria-hidden no-view style=""><!--]-->SpringBoot<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://spring.io/projects/spring-cloud" aria-label="SpringCloud" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/springcloud.svg" alt aria-hidden no-view style=""><!--]-->SpringCloud<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://git-scm.com/book/zh/v2" aria-label="Git" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/git.svg" alt aria-hidden no-view style=""><!--]-->Git<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://mybatis.p2hp.com/index.html" aria-label="Mybatis" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/mybatis.svg" alt aria-hidden no-view style=""><!--]-->Mybatis<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://baomidou.com/plugins/" aria-label="Mybatis-Plus" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/mybatisplus.svg" alt aria-hidden no-view style=""><!--]-->Mybatis-Plus<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://maven.org.cn/guides/index.html" aria-label="Maven" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/maven.svg" alt aria-hidden no-view style=""><!--]-->Maven<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://tomcat.apache.org/tomcat-10.0-doc/index.html" aria-label="Tomcat" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/tomcat.svg" alt aria-hidden no-view style=""><!--]-->Tomcat<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/info/web.html" aria-label="å…³äº"><!--[--><img class="icon" src="/icon/info.svg" alt aria-hidden no-view style=""><!--]-->å…³äº<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/road.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å­¦ä¹ è·¯çº¿</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/javab.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Javaæ ¸å¿ƒ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="icon" src="/icon/javaweb.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">JavaWeb</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/JDBC.html" aria-label="JDBC"><!---->JDBC<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/xml.html" aria-label="XML"><!---->XML<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/Tomcat.html" aria-label="Tomcat"><!---->Tomcat<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/codenotes/back/javaweb/Servlet.html" aria-label="Servlet"><!---->Servlet<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/JSP.html" aria-label="JSP"><!---->JSP<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/Listener.html" aria-label="Listener"><!---->Listener<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/cookie.html" aria-label="Cookie"><!---->Cookie<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/filter.html" aria-label="Filter"><!---->Filter<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/javaweb/json.html" aria-label="Json"><!---->Json<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/spring.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Springç”Ÿæ€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/cengci.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å¼€å‘æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/os.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å¼€å‘å¿…å¤‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/database.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/algorithm.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Servlet</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">Ahzy</span></span><span property="author" content="Ahzy"></span></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024å¹´10æœˆ7æ—¥</span><meta property="datePublished" content="2024-10-07T00:00:00.000Z"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 20 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT20M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-selvetåŸºç¡€">1. SelvetåŸºç¡€</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-1-å¿«é€Ÿå…¥é—¨">1.1 å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-2-æµè§ˆå™¨è¯·æ±‚servlet-umlåˆ†æ">1.2 æµè§ˆå™¨è¯·æ±‚Servlet UMLåˆ†æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-3-ç”Ÿå‘½å‘¨æœŸ">1.3 ç”Ÿå‘½å‘¨æœŸ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-4-è¯·æ±‚åˆ†å‘å¤„ç†">1.4 è¯·æ±‚åˆ†å‘å¤„ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-5-httpservlet">1.5 HttpServlet</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-6-å°èŠ‚">1.6 å°èŠ‚</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-æ³¨è§£æ–¹å¼">2. æ³¨è§£æ–¹å¼</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-1-å¿«é€Ÿå…¥é—¨">2.1 å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-2-æ¨¡æ‹Ÿtomcaté€šè¿‡æ³¨è§£è£…è½½servlet">2.2 æ¨¡æ‹ŸTomcaté€šè¿‡æ³¨è§£è£…è½½Servlet</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-3-urlpatternåŒ¹é…">2.3 urlPatternåŒ¹é…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_2-4-æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚">2.4 æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-http">3. HTTP</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-1-åŸºæœ¬åˆ†æ">3.1 åŸºæœ¬åˆ†æ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-2-getä¸post">3.2 GETä¸POST</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-3-httpå“åº”">3.3 HTTPå“åº”</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-4-get-è¯·æ±‚è¿”å›æ•°æ®">3.4 GET è¯·æ±‚è¿”å›æ•°æ®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_3-5-mimeç±»å‹">3.5 MIMEç±»å‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-servletconfig-ç±»">4. ServletConfig ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-servletcontext-ç±»">5. ServletContext ç±»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-1-å­˜åœ¨çš„æ„ä¹‰">5.1 å­˜åœ¨çš„æ„ä¹‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-2-ä½œç”¨">5.2 ä½œç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_5-3-åº”ç”¨">5.3 åº”ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-httpservletrequest-ç±»">6. HttpServletRequest ç±»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-1-å¸¸ç”¨æ–¹æ³•">6.1 å¸¸ç”¨æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-2-è§£å†³ä¸­æ–‡ä¹±ç ">6.2 è§£å†³ä¸­æ–‡ä¹±ç </a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-3-è¯·æ±‚è½¬å‘">6.3 è¯·æ±‚è½¬å‘</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_6-4-æ–œæ åœ¨webä¸åŒå«ä¹‰">6.4 æ–œæ åœ¨Webä¸åŒå«ä¹‰</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-httpservletresponse-ç±»">7. HttpServletResponse ç±»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-1-å¾€å®¢æˆ·ç«¯å›ä¼ æ•°æ®">7.1 å¾€å®¢æˆ·ç«¯å›ä¼ æ•°æ®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-2-å“åº”ä¹±ç è§£å†³">7.2 å“åº”ä¹±ç è§£å†³</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_7-3-è¯·æ±‚é‡å®šå‘">7.3 è¯·æ±‚é‡å®šå‘</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="_1-selvetåŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_1-selvetåŸºç¡€"><span>1. SelvetåŸºç¡€</span></a></h2><blockquote><ol><li>JavaEE è§„èŒƒä¹‹ä¸€ï¼Œè§„èŒƒå°±æ˜¯æ¥å£</li><li>JavaWeb<sup class="footnote-ref"><a href="#footnote1">[1]</a><a class="footnote-anchor" id="footnote-ref1"></a></sup> ä¸‰å¤§ç»„ä»¶<sup class="footnote-ref"><a href="#footnote2">[2]</a><a class="footnote-anchor" id="footnote-ref2"></a></sup>ä¹‹ä¸€</li><li>è¿è¡Œåœ¨æœåŠ¡å™¨ä¸Šçš„ä¸€ä¸ª java å°ç¨‹åºï¼ˆç”±Tomcatè§£æå’Œæ‰§è¡Œï¼‰ï¼Œå¯ä»¥æ¥æ”¶è¯·æ±‚å“åº”æ•°æ®</li><li>ç”±javaç¼–å†™ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªjavaç±»</li><li>servlet3.0 å‰ä½¿ç”¨ web.xml , servlet3.0 ç‰ˆæœ¬ä»¥å(åŒ…æ‹¬ 3.0)æ”¯æŒæ³¨è§£ï¼ŒåŒæ—¶æ”¯æŒweb.xml é…ç½®</li></ol></blockquote><figure><img src="/assets/image-20241203013759504-B6aScHf0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>è¯·æ±‚åŠ¨æ€èµ„æºä¸€æ¡è·¯ï¼Œåªè®¿é—®é™æ€èµ„æº Apache å’Œ Nignx è¶³ä»¥ï¼Œä¸éœ€ Tomcat</li><li>è¯·æ±‚é™æ€èµ„æºä¸€æ¡è·¯ï¼Œç›´æ¥è¿”å›</li></ul><h3 id="_1-1-å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_1-1-å¿«é€Ÿå…¥é—¨"><span>1.1 å¿«é€Ÿå…¥é—¨</span></a></h3><p>æ·»åŠ  <code>servlet-api.jar</code> (åœ¨ <strong>tomcat/lib</strong> ä¸‹) åˆ°å·¥ç¨‹, å› ä¸ºservlet.jar ä¸æ˜¯jdkè‡ªå¸¦çš„, è¦å¼•å…¥</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line">  * 1. ç¼–å†™ç±»å®ç°Servletæ¥å£</span>
<span class="line">  * 2. å®ç° service æ–¹æ³•5ä¸ª</span>
<span class="line">  * 3. åœ¨ web.xml ä¸­å»é…ç½® servlet ç¨‹åºçš„è®¿é—®åœ°å€</span>
<span class="line">  */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//å±æ€§</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 1.åˆå§‹åŒ– servlet</span>
<span class="line">     * 2.å½“åˆ›å»ºHelloServlet å®ä¾‹æ—¶ï¼Œä¼šè°ƒç”¨initæ–¹æ³•</span>
<span class="line">     * 3. è¯¥æ–¹æ³•åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">servletConfig</span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> servletConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;init() è¢«è°ƒç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * è¿”å›ServletConfig ä¹Ÿå°±æ˜¯è¿”å›Servletçš„é…ç½®</span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">ServletConfig</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 1. serviceæ–¹æ³•å¤„ç†æµè§ˆå™¨çš„è¯·æ±‚(åŒ…æ‹¬get/post)</span>
<span class="line">     * 2. å½“æµè§ˆå™¨æ¯æ¬¡è¯·æ±‚Servletæ—¶ï¼Œå°±ä¼šè°ƒç”¨ä¸€æ¬¡service</span>
<span class="line">     * 3. å½“tomcatè°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠŠhttpè¯·æ±‚çš„æ•°æ®å°è£…æˆå®ç°ServletRequestæ¥å£çš„requestå¯¹è±¡</span>
<span class="line">     * 4. é€šè¿‡servletRequest å¯¹è±¡ï¼Œå¯ä»¥å¾—åˆ°ç”¨æˆ·æäº¤çš„æ•°æ®</span>
<span class="line">     * 5. servletResponse å¯¹è±¡å¯ä»¥ç”¨äºè¿”å›æ•°æ®ç»™tomcat-&gt;æµè§ˆå™¨</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">servletRequest</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">servletResponse</span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span></span>
<span class="line">                        <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        count<span class="token operator">++</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//å¦‚æœcountçš„å€¼ï¼Œåœ¨ä¸åœçš„ç´¯è®¡ï¼Œè¯´æ˜HelloServletæ˜¯å•ä¾‹çš„</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;hi HelloServlet~ count= &quot;</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//Tomcatæ¯å¤„ç†ä¸€æ¬¡httpè¯·æ±‚ï¼Œå°±ç”Ÿæˆä¸€ä¸ªæ–°çš„çº¿ç¨‹</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å½“å‰çº¿ç¨‹id= &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//æ€è€ƒ-&gt;ä»servletRequestå¯¹è±¡æ¥è·å–è¯·æ±‚æ–¹å¼-&gt;</span></span>
<span class="line">        <span class="token comment">//1. ServletRequest æ²¡æœ‰å¾—åˆ°æäº¤æ–¹å¼çš„æ–¹æ³•</span></span>
<span class="line">        <span class="token comment">//2. ServletRequest çœ‹çœ‹ServletRequestå­æ¥å£æœ‰æ²¡æœ‰ç›¸å…³æ–¹æ³•</span></span>
<span class="line">        <span class="token comment">//3. è€å¸ˆå°æŠ€å·§ï¼šctrl+alt+b =&gt; å¯ä»¥çœ‹åˆ°æ¥å£çš„å­æ¥å£å’Œå®ç°å­ç±»</span></span>
<span class="line">        <span class="token comment">//4. æŠŠservletReqeustè½¬æˆ HttpServletRequestå¼•ç”¨</span></span>
<span class="line">        <span class="token comment">//5. ä»ç„¶æ˜¯JavaåŸºç¡€çš„OOP</span></span>
<span class="line">        <span class="token class-name">HttpServletRequest</span> httpServletRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> method <span class="token operator">=</span> httpServletRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨doGet() å¤„ç†GETè¯·æ±‚</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨doPost() å¤„ç†POSTè¯·æ±‚</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”¨äºå“åº”getè¯·æ±‚çš„</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doGet() è¢«è°ƒç”¨..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”¨äºå“åº”postè¯·æ±‚çš„</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doPost() è¢«è°ƒç”¨..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * è¿”å›servletä¿¡æ¯ï¼Œä½¿ç”¨è¾ƒå°‘</span>
<span class="line">     * <span class="token keyword">@return</span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getServletInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 1. è¯¥æ–¹æ³•æ˜¯åœ¨servleté”€æ¯æ—¶ï¼Œè¢«è°ƒç”¨</span>
<span class="line">     * 2. åªä¼šè°ƒç”¨ä¸€æ¬¡</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;destroy() è¢«è°ƒç”¨...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>web.xmlä¸­çš„é…ç½®</p><div class="language-xml line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="xml" data-title="xml" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>web-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee<span class="token punctuation">&quot;</span></span></span>
<span class="line">         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span></span>
<span class="line">         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd<span class="token punctuation">&quot;</span></span></span>
<span class="line">         <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">&lt;!--è€éŸ©å°æŠ€å·§: web.xmlä¸»è¦ç”¨æ¥é…ç½®è¯¥webåº”ç”¨ä½¿ç”¨åˆ°çš„Servlet</span>
<span class="line">        è€å¸ˆè§£è¯»</span>
<span class="line">        1. servlet-name: ç»™Servletå–å(ç¨‹åºå‘˜å†³å®š), è¯¥åå­—å”¯ä¸€</span>
<span class="line">        2. servlet-class: Servletçš„ç±»çš„å…¨è·¯å¾„: Tomcatåœ¨åå°„ç”Ÿæˆè¯¥Servletéœ€è¦ä½¿ç”¨</span>
<span class="line">        3. url-pattern: è¿™ä¸ªå°±æ˜¯è¯¥servletè®¿é—®çš„urlçš„é…ç½®(è·¯å¾„)</span>
<span class="line">        4. è¿™æ—¶æˆ‘ä»¬åº”è¯¥è¿™æ ·è®¿é—®servlet http://localhost:8080/servlet/helloServlet</span>
<span class="line">        5. url-pattern å–åæ˜¯ç¨‹åºå‘˜å†³å®šçš„</span>
<span class="line">        6. load-on-startup è¡¨ç¤ºåœ¨tomcat å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨çš„åŠ è½½servletå®ä¾‹</span>
<span class="line"></span>
<span class="line">        å°æŠ€å·§ï¼š alt+r =&gt; è€å¸ˆé…ç½®</span>
<span class="line">    --&gt;</span></span>
<span class="line">    <span class="token comment">&lt;!-- é…ç½®HelloServlet --&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">&gt;</span></span>com.hspedu.servlet.HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token comment">&lt;!--&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;--&gt;</span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">&gt;</span></span>HelloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span>/helloServlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    </span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>web-app</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><blockquote><p><code>http://ip:port/å·¥ç¨‹è·¯å¾„ </code> é»˜è®¤è®¿é—® index.jsp</p></blockquote><h3 id="_1-2-æµè§ˆå™¨è¯·æ±‚servlet-umlåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-2-æµè§ˆå™¨è¯·æ±‚servlet-umlåˆ†æ"><span>1.2 æµè§ˆå™¨è¯·æ±‚Servlet UMLåˆ†æ</span></a></h3><figure><img src="/assets/image-20241203230057888-DrHlKeof.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>Tomcat ä¸å…³å¿ƒæ˜¯å“ªä¸ªæµè§ˆå™¨å‘æ¥çš„è¯·æ±‚ï¼Œéƒ½æ˜¯èµ°ä¸€æ ·çš„æµç¨‹</li><li>æ‰§è¡Œ 1 çš„æ—¶å€™ï¼Œå¯¹åŒ…è¿›è¡Œæ‰«æï¼Œæœ‰@WebServletï¼Œè¯´æ˜è¯¥ç±»ä¸ºServletï¼Œè¯»å–urlPatterns</li></ul><h3 id="_1-3-ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_1-3-ç”Ÿå‘½å‘¨æœŸ"><span>1.3 ç”Ÿå‘½å‘¨æœŸ</span></a></h3><blockquote><ol><li>æ‰§è¡ŒServlet æ„é€ å™¨æ–¹æ³•</li><li>æ‰§è¡Œinit åˆå§‹åŒ–æ–¹æ³•</li><li>æ‰§è¡Œservice æ–¹æ³•</li><li>æ‰§è¡Œdestroy é”€æ¯æ–¹æ³•</li></ol></blockquote><ul><li>Servlet å®¹å™¨(æ¯”å¦‚: Tomcat)åŠ è½½ Servletï¼ŒåŠ è½½å®Œæˆåï¼ŒServlet å®¹å™¨ä¼šåˆ›å»ºä¸€ä¸ªServlet å®ä¾‹å¹¶è°ƒç”¨ <strong>init()æ–¹æ³•</strong>ï¼Œinit()æ–¹æ³•åªä¼šè°ƒç”¨ä¸€æ¬¡, Servlet å®¹å™¨åœ¨ä¸‹é¢çš„æƒ…å†µè£…è½½Servletï¼š <ol><li>Servlet å®¹å™¨(Tomcat)å¯åŠ¨æ—¶è‡ªåŠ¨è£…è½½æŸäº› servletï¼Œå®ç°è¿™ä¸ªéœ€è¦åœ¨web.xml æ–‡ä»¶ä¸­æ·»åŠ  <code>&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;</code> ï¼Œ1 è¡¨ç¤ºè£…è½½çš„é¡ºåº</li><li>åœ¨ Servlet å®¹å™¨å¯åŠ¨åï¼Œæµè§ˆå™¨ <strong>é¦–æ¬¡</strong> å‘ Servlet å‘é€è¯·æ±‚</li><li>Servlet é‡æ–°è£…è½½æ—¶(æ¯”å¦‚ <strong>tomcat è¿›è¡Œ redeploy</strong>ã€redeploy ä¼š <strong>é”€æ¯æ‰€æœ‰çš„Servlet å®ä¾‹</strong>ã€‘)ï¼Œæµè§ˆå™¨å†å‘ Servlet å‘é€è¯·æ±‚çš„ç¬¬ 1 æ¬¡</li></ol></li><li>å¤„ç†æµè§ˆå™¨è¯·æ±‚é˜¶æ®µ(<strong>service æ–¹æ³•</strong>)ï¼š <ol><li>æ¯æ”¶åˆ°ä¸€ä¸ª http è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°±ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„çº¿ç¨‹å»å¤„ç†</li><li>åˆ›å»ºä¸€ä¸ªç”¨äºå°è£… HTTP è¯·æ±‚æ¶ˆæ¯çš„ ServletRequest å¯¹è±¡å’Œä¸€ä¸ªä»£è¡¨HTTP å“åº”æ¶ˆæ¯çš„ServletResponse å¯¹è±¡</li><li>. ç„¶åè°ƒç”¨ Servlet çš„ service()æ–¹æ³•å¹¶å°†è¯·æ±‚å’Œå“åº”å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’è¿›å»</li></ol></li><li>ç»ˆæ­¢é˜¶æ®µ destory æ–¹æ³• <ol><li>å½“web åº”ç”¨è¢«ç»ˆæ­¢ï¼Œæˆ–è€…Servlet å®¹å™¨ç»ˆæ­¢è¿è¡Œï¼Œæˆ–è€…Servlet ç±»é‡æ–°è£…è½½æ—¶ï¼Œä¼šè°ƒç”¨destroy()æ–¹æ³• , æ¯”å¦‚é‡å¯ tomcat ,æˆ–è€… redeploy web åº”ç”¨</li></ol></li></ul><h3 id="_1-4-è¯·æ±‚åˆ†å‘å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_1-4-è¯·æ±‚åˆ†å‘å¤„ç†"><span>1.4 è¯·æ±‚åˆ†å‘å¤„ç†</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">implements</span> <span class="token class-name">Servlet</span> <span class="token punctuation">{</span></span>
<span class="line">    </span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * 1. serviceæ–¹æ³•å¤„ç†æµè§ˆå™¨çš„è¯·æ±‚(åŒ…æ‹¬get/post)</span>
<span class="line">     * 2. å½“æµè§ˆå™¨æ¯æ¬¡è¯·æ±‚Servletæ—¶ï¼Œå°±ä¼šè°ƒç”¨ä¸€æ¬¡service</span>
<span class="line">     * 3. å½“tomcatè°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œä¼šæŠŠhttpè¯·æ±‚çš„æ•°æ®å°è£…æˆå®ç°ServletRequestæ¥å£çš„requestå¯¹è±¡</span>
<span class="line">     * 4. é€šè¿‡servletRequest å¯¹è±¡ï¼Œå¯ä»¥å¾—åˆ°ç”¨æˆ·æäº¤çš„æ•°æ®</span>
<span class="line">     * 5. servletResponse å¯¹è±¡å¯ä»¥ç”¨äºè¿”å›æ•°æ®ç»™tomcat-&gt;æµè§ˆå™¨</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">servletRequest</span></span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">servletResponse</span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">IOException</span></span></span>
<span class="line">     */</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">service</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span></span>
<span class="line">                        <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//æ€è€ƒ-&gt;ä»servletRequestå¯¹è±¡æ¥è·å–è¯·æ±‚æ–¹å¼-&gt;</span></span>
<span class="line">        <span class="token comment">//1. ServletRequest æ²¡æœ‰å¾—åˆ°æäº¤æ–¹å¼çš„æ–¹æ³•</span></span>
<span class="line">        <span class="token comment">//2. ServletRequest çœ‹çœ‹ServletRequestå­æ¥å£æœ‰æ²¡æœ‰ç›¸å…³æ–¹æ³•</span></span>
<span class="line">        <span class="token comment">//3. è€å¸ˆå°æŠ€å·§ï¼šctrl+alt+b =&gt; å¯ä»¥çœ‹åˆ°æ¥å£çš„å­æ¥å£å’Œå®ç°å­ç±»</span></span>
<span class="line">        <span class="token comment">//4. æŠŠservletReqeustè½¬æˆ HttpServletRequestå¼•ç”¨</span></span>
<span class="line">        <span class="token comment">//5. ä»ç„¶æ˜¯JavaåŸºç¡€çš„OOP</span></span>
<span class="line">        <span class="token class-name">HttpServletRequest</span> httpServletRequest <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> servletRequest<span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> method <span class="token operator">=</span> httpServletRequest<span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨doGet() å¤„ç†GETè¯·æ±‚</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;POST&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>method<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨doPost() å¤„ç†POSTè¯·æ±‚</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”¨äºå“åº”getè¯·æ±‚çš„</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doGet() è¢«è°ƒç”¨..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * ç”¨äºå“åº”postè¯·æ±‚çš„</span>
<span class="line">     */</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doPost() è¢«è°ƒç”¨..&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_1-5-httpservlet" tabindex="-1"><a class="header-anchor" href="#_1-5-httpservlet"><span>1.5 HttpServlet</span></a></h3><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œéƒ½æ˜¯ä½¿ç”¨<strong>ç»§æ‰¿</strong> HttpServlet ç±»å¼€å‘ Servlet ç¨‹åºï¼Œæ›´åŠ æ–¹ä¾¿</p><figure><img src="/assets/image-20241204003951579-DbiROOf4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet2</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token annotation punctuation">@Override</span></span>
<span class="line">  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span><span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"> 	ä¸šåŠ¡ä»£ç </span>
<span class="line"> 	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">   <span class="token annotation punctuation">@Override</span></span>
<span class="line">   <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequestreq</span><span class="token punctuation">,</span><span class="token class-name">HttpServletResponseresp</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"> 	ä¸šåŠ¡ä»£ç </span>
<span class="line"> 	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>è¦åœ¨web.xmlä¸­é…ç½®servlet</p><p><mark>å¯ä»¥åœ¨IDEAä¸­å¿«é€Ÿåˆ›å»º</mark></p><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241002204224295.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_1-6-å°èŠ‚" tabindex="-1"><a class="header-anchor" href="#_1-6-å°èŠ‚"><span>1.6 å°èŠ‚</span></a></h3><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><ol><li>Servlet æ˜¯ä¸€ä¸ªä¾›å…¶ä»– Java ç¨‹åºï¼ˆServlet å¼•æ“ï¼‰è°ƒç”¨çš„ Java ç±»ï¼Œä¸èƒ½ç‹¬ç«‹è¿è¡Œ</li><li>é’ˆå¯¹æµè§ˆå™¨çš„å¤šæ¬¡ Servlet è¯·æ±‚ï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åªä¼šåˆ›å»ºä¸€ä¸ªServlet å®ä¾‹å¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ Servlet å®ä¾‹å¯¹è±¡ä¸€æ—¦åˆ›å»ºï¼Œå®ƒå°±ä¼šé©»ç•™åœ¨å†…å­˜ä¸­ï¼Œä¸ºåç»­çš„å…¶å®ƒè¯·æ±‚æœåŠ¡ï¼Œç›´è‡³web å®¹å™¨é€€å‡º/æˆ–è€… redeploy è¯¥ web åº”ç”¨ï¼Œservlet å®ä¾‹å¯¹è±¡æ‰ä¼šé”€æ¯</li><li>. åœ¨ Servlet çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…ï¼Œinit æ–¹æ³•åªè¢«è°ƒç”¨ä¸€æ¬¡ã€‚è€Œå¯¹æ¯æ¬¡è¯·æ±‚éƒ½å¯¼è‡´Servlet å¼•æ“è°ƒç”¨ä¸€æ¬¡ servlet çš„ service æ–¹æ³•ã€‚</li><li>å¯¹äºæ¯æ¬¡è®¿é—®è¯·æ±‚ï¼ŒServlet å¼•æ“éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ HttpServletRequest è¯·æ±‚å¯¹è±¡å’Œä¸€ä¸ªæ–°çš„ HttpServletResponse å“åº”å¯¹è±¡ï¼Œç„¶åå°†è¿™ä¸¤ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™å®ƒè°ƒç”¨çš„Servletçš„ service()æ–¹æ³•ï¼Œservice æ–¹æ³•å†æ ¹æ®è¯·æ±‚æ–¹å¼åˆ†åˆ«è°ƒç”¨ doXXX æ–¹æ³•</li><li>å¦‚æœåœ¨<code>&lt;servlet&gt;</code>å…ƒç´ ä¸­é…ç½®äº†ä¸€ä¸ª<code>&lt;load-on-startup&gt;</code>å…ƒç´ ï¼Œé‚£ä¹ˆWEB åº”ç”¨ç¨‹åºåœ¨å¯åŠ¨æ—¶ï¼Œå°±ä¼šè£…è½½å¹¶åˆ›å»º Servlet çš„å®ä¾‹å¯¹è±¡ã€ä»¥åŠè°ƒç”¨ Servlet å®ä¾‹å¯¹è±¡çš„init()æ–¹æ³•</li></ol></div><h2 id="_2-æ³¨è§£æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_2-æ³¨è§£æ–¹å¼"><span>2. æ³¨è§£æ–¹å¼</span></a></h2><h3 id="_2-1-å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_2-1-å¿«é€Ÿå…¥é—¨"><span>2.1 å¿«é€Ÿå…¥é—¨</span></a></h3><p>ç¼–å†™ç±»å»ç»§æ‰¿HttpServlet</p><p>æ³¨è§£æ–¹å¼é…ç½®, ä¸€ä¸ªServletæ”¯æŒé…ç½®å¤šä¸ªurlPattern</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> *  1. @WebServlet æ˜¯ä¸€ä¸ªæ³¨è§£ =&gt; javaåŸºç¡€-&gt;æ³¨è§£</span>
<span class="line"> *  2. @WebServlet æºç  ctrl+b è¿›å…¥</span>
<span class="line"> *  3. urlPatterns å¯¹åº” web.xml çš„ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> *  4. <span class="token punctuation">{</span>&quot;/ok1&quot;, &quot;/ok2&quot;<span class="token punctuation">}</span> å¯ä»¥ç»™OkServleté…ç½®å¤šä¸ª url-pattern</span>
<span class="line"> *  5. ç›¸å½“äºè¿™ä¸ª@WebServlet(urlPatterns = <span class="token punctuation">{</span>&quot;/ok1&quot;, &quot;/ok2&quot;<span class="token punctuation">}</span>) ä»£æ›¿äº† web.xmlçš„é…ç½®</span>
<span class="line"> *     åº•å±‚ä½¿ç”¨äº† åå°„+æ³¨è§£+IO+é›†åˆ æ¥å®Œæˆä¸€ä¸ªæ”¯æ’‘</span>
<span class="line"> *  6. æµè§ˆå™¨å¯ä»¥è¿™æ ·è®¿é—®OkServletæ—¶ï¼Œå¯ä»¥ http://localhost:8080/servlet/ok1 æˆ–è€…</span>
<span class="line"> *     http://localhost:8080/servlet/ok2</span>
<span class="line"> *  7. æˆ‘ä»¬å¯ä»¥æ ¹æ® @interface WebServlet æºç çŸ¥é“å¯ä»¥é…ç½®å“ªäº›</span>
<span class="line"> *  web.xml init-param åœ¨æ³¨è§£ä¸­ï¼Œå¦‚ä½•æŒ‡å®šå‘¢? è€å¸ˆçœ‹äº†æºç ï¼Œè€å¸ˆæå®š</span>
<span class="line"> *          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> *             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> *             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> *         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"> *  8. æ³¨è§£æ–¹å¼å¼€å‘Servletå’Œ web.xmlé…ç½®servlet æµç¨‹æœºåˆ¶æ˜¯ä¸€æ ·</span>
<span class="line"> */</span></span>
<span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/ok1,/aa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> initParams <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;yy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@WebInitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span><span class="token string">&quot;xx&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;yy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OkServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨è§£æ–¹å¼ OkServlet init()è¢«è°ƒç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨è§£æ–¹å¼ OkServlet doPost()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æŠ¥é”™</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨è§£æ–¹å¼ OkServlet doGet()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getRemoteAddr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_2-2-æ¨¡æ‹Ÿtomcaté€šè¿‡æ³¨è§£è£…è½½servlet" tabindex="-1"><a class="header-anchor" href="#_2-2-æ¨¡æ‹Ÿtomcaté€šè¿‡æ³¨è§£è£…è½½servlet"><span>2.2 æ¨¡æ‹ŸTomcaté€šè¿‡æ³¨è§£è£…è½½Servlet</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token doc-comment comment">/**</span>
<span class="line"> * <span class="token keyword">@author</span> éŸ©é¡ºå¹³</span>
<span class="line"> * <span class="token keyword">@version</span> 1.0</span>
<span class="line"> * æ¨¡æ‹Ÿä¸€æŠŠTomcatæ˜¯å¦‚æœé€šè¿‡ @WebServlet(urlPatterns = <span class="token punctuation">{</span>&quot;/ok1&quot;, &quot;/ok2&quot;<span class="token punctuation">}</span>)</span>
<span class="line"> * æ¥è£…è½½ä¸€ä¸ªServletçš„</span>
<span class="line"> */</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestAnnotationServlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> hm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ClassNotFoundException</span><span class="token punctuation">,</span> <span class="token class-name">IllegalAccessException</span><span class="token punctuation">,</span> <span class="token class-name">InstantiationException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//1. é¦–å…ˆè¦å¾—åˆ°æ‰«æçš„åŒ… è·¯å¾„ io, è¿›è€Œå¾—åˆ°ç±»çš„å…¨è·¯å¾„</span></span>
<span class="line">        <span class="token class-name">String</span> classAllPath <span class="token operator">=</span> <span class="token string">&quot;com.hspedu.servlet.annotation.OkServlet&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//2. å¾—åˆ° OkServletçš„Classå¯¹è±¡</span></span>
<span class="line">        <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> aClass <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>classAllPath<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//3. é€šè¿‡classå¯¹è±¡ï¼Œå¾—åˆ°Annotation</span></span>
<span class="line">        <span class="token class-name">WebServlet</span> annotation <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">WebServlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>annotation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> strings <span class="token operator">=</span> annotation<span class="token punctuation">.</span><span class="token function">urlPatterns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> url <span class="token operator">:</span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;url= &quot;</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//å¦‚æœåŒ¹é…url,å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ï¼Œtomcatå°±ä¼šåˆ›å»ºä¸€ä¸ªOkServletå®ä¾‹ï¼Œæ”¾å…¥åˆ°hashmap</span></span>
<span class="line">        <span class="token class-name">Object</span> instance <span class="token operator">=</span> aClass<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;instance= &quot;</span> <span class="token operator">+</span> instance<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//OkServlet</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//ç®€å•çš„æ¨¡æ‹Ÿï¼Œæ²¡æœ‰æ·±å…¥.</span></span>
<span class="line">        hm<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;OkServlet&quot;</span><span class="token punctuation">,</span> instance<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hm<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_2-3-urlpatternåŒ¹é…" tabindex="-1"><a class="header-anchor" href="#_2-3-urlpatternåŒ¹é…"><span>2.3 urlPatternåŒ¹é…</span></a></h3><p><strong>ç²¾ç¡®åŒ¹é…</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/ok/zs&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// è®¿é—® servlet: localhost:8080/servlet/ok/zs</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç›®å½•åŒ¹é…</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/ok/*&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// è®¿é—®æ–‡ä»¶: localhost:8080/servlet/ok/aaa localhost:8080/servlet/ok/bbb</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ‰©å±•ååŒ¹é…</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;*.action&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// è®¿é—®æ–‡ä»¶: localhost:8080/hsp/zs.action localhost:8080/hsp/ls.action</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä»»æ„åŒ¹é…</strong></p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// è®¿é—®æ–‡ä»¶: localhost:8080/hsp/aaa localhost:8080/hsp/bbb localhost:8080/hsp/ccc</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><span style="color:red;">/ å’Œ /*çš„é…ç½®ï¼Œä¼šåŒ¹é…æ‰€æœ‰çš„è¯·æ±‚ï¼Œè¿™ä¸ªæ¯”è¾ƒéº»çƒ¦ï¼Œè¦é¿å…</span></p><h3 id="_2-4-æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚" tabindex="-1"><a class="header-anchor" href="#_2-4-æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚"><span>2.4 æ³¨æ„äº‹é¡¹å’Œä½¿ç”¨ç»†èŠ‚</span></a></h3><ol><li>å½“ Servlet é…ç½®äº† <code>&quot;/&quot;</code>, ä¼š<strong>è¦†ç›–</strong> tomcat çš„ DefaultServlet, å½“å…¶ä»–çš„utl-pattern<strong>éƒ½åŒ¹é…ä¸ä¸Š</strong>æ—¶ï¼Œéƒ½ä¼šèµ°è¿™ä¸ª Servlet , è¿™æ ·å¯æ‹¦æˆªåˆ°å…¶å®ƒé™æ€èµ„æº <strong>æŸ¥çœ‹</strong>ï¼š<code>tomcat/conf/web.xml</code> , é…ç½®çš„ DefaultServletï¼Œ<span style="color:red;">è¿™ä¸ªé»˜è®¤çš„ servlet æ˜¯å¤„ç†é™æ€èµ„æºçš„ï¼Œä¸€æ—¦æ‹¦æˆªï¼Œé™æ€èµ„æºä¸èƒ½å¤„ç†</span></li><li>å½“ Servelt é…ç½®äº† <code>&quot;/*&quot;</code>, è¡¨ç¤ºå¯ä»¥åŒ¹é…ä»»æ„è®¿é—®è·¯å¾„</li><li>å»ºè®®ä¸è¦ä½¿ç”¨ / å’Œ /* , å»ºè®®å°½é‡ä½¿ç”¨ç²¾ç¡®åŒ¹é…</li><li>ä¼˜å…ˆçº§éµå®ˆ: <code>ç²¾ç¡®è·¯å¾„ &gt; ç›®å½•è·¯å¾„ &gt; æ‰©å±•åè·¯å¾„ &gt; /* &gt; /</code></li></ol><h2 id="_3-http" tabindex="-1"><a class="header-anchor" href="#_3-http"><span>3. HTTP</span></a></h2><p>è¶…æ–‡æœ¬ä¼ è¾“åè®® (HTTPï¼ŒHyperText Transfer Protocol) æ˜¯äº’è”ç½‘ä¸Šåº”ç”¨å¹¿æ³›çš„ä¸€ç§ç½‘ç»œåè®®ã€‚æ˜¯å·¥ä½œåœ¨ tcp/ip åè®®åŸºç¡€ä¸Šçš„ , æ‰€æœ‰çš„ WWW æ–‡ä»¶éƒ½éµå®ˆè¿™ä¸ªæ ‡å‡†ã€‚</p><ul><li>http1.0 çŸ­è¿æ¥ http1.1 é•¿è¿æ¥</li><li>http æ˜¯ TCP/IP åè®®çš„ä¸€ä¸ªåº”ç”¨å±‚åè®® , http ä¹Ÿæ˜¯æˆ‘ä»¬ web å¼€å‘çš„åŸºç¡€</li><li>å½“è®¿é—® test.html é¡µé¢æ—¶, é—®æµè§ˆå™¨å‘å‡ºå‡ æ¬¡ http è¯·æ±‚? <ul><li>ç¬¬ä¸€æ¬¡è¯·æ±‚çš„ test.html</li><li>å½“æµè§ˆå™¨è§£æå‘ç° test.html ä¸­æœ‰ img ç­‰</li><li>ä¼šå‘æœåŠ¡å™¨ç»§ç»­å‘è¯·æ±‚</li></ul></li></ul><h3 id="_3-1-åŸºæœ¬åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_3-1-åŸºæœ¬åˆ†æ"><span>3.1 åŸºæœ¬åˆ†æ</span></a></h3><figure><img src="/assets/image-20241205113205205-DGjPPqFu.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><a href="./img/HTTP%E5%B8%B8%E8%A7%81%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94%E5%A4%B4-%E8%AF%B4%E6%98%8E.pdf">å¸¸è§è¯·æ±‚å’Œå“åº”å¤´-è¯´æ˜.pdf</a></p><figure><img src="/assets/image-20241205114632922-AivCce3y.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-2-getä¸post" tabindex="-1"><a class="header-anchor" href="#_3-2-getä¸post"><span>3.2 GETä¸POST</span></a></h3><ul><li><p><strong>GETï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´</strong></p><ol><li>form æ ‡ç­¾ method=get</li><li>a æ ‡ç­¾</li><li>link æ ‡ç­¾å¼•å…¥ css</li><li>Script æ ‡ç­¾å¼•å…¥ js æ–‡ä»¶</li><li>img æ ‡ç­¾å¼•å…¥å›¾ç‰‡</li><li>iframe å¼•å…¥ html é¡µé¢</li><li>åœ¨æµè§ˆå™¨åœ°å€æ ä¸­è¾“å…¥åœ°å€åæ•²å›è½¦</li></ol></li><li><p><strong>POSTï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“</strong></p></li></ul><ol><li>form æ ‡ç­¾ method=post</li></ol><p><strong>åŒºåˆ«</strong>ï¼š</p><ol><li>get ä¼ é€çš„æ•°æ®é‡è¾ƒå°ã€‚ä¸èƒ½å¤§äº 2KB(ä¸åŒæµè§ˆå™¨ä¸ä¸€æ ·)ã€‚</li><li>post ä¼ é€çš„æ•°æ®é‡è¾ƒå¤§ã€‚ä¸€èˆ¬é»˜è®¤ä¸å—é™åˆ¶ã€‚</li><li>post è¯·æ±‚æ˜¯ä¼šåœ¨æµè§ˆå™¨ä¸Šéšè—åƒæ•°éƒ¨åˆ†çš„ï¼Œåœ¨å®‰å…¨è¦æ±‚çš„éƒ¨åˆ†éƒ½ä¼šä½¿ç”¨åˆ°POST è¯·æ±‚ã€‚å¦‚ç”¨æˆ·ç™»å½•ã€‚æ•°æ®å¢åˆ æ”¹ç­‰ç­‰ã€‚éƒ½ä¼šæŠŠåƒæ•°éšè—èµ·æ¥ï¼Œè¿™æ ·å°±ä¸ä¼šé€šè¿‡ä½ çš„è¯·æ±‚æš´éœ²ä½ çš„åƒæ•°æ ¼å¼ã€‚</li><li>åœ¨å‘ server ä¼ é€’æ•°æ®è¾ƒå¤§çš„æ—¶å€™ã€‚ä½¿ç”¨ POST</li><li>åœ¨å‰å°é¡µé¢å±•ç¤ºï¼Œæ¯”å¦‚åˆ†é¡µå†…å®¹ç­‰ï¼Œå¯ä»¥ä¿ç•™ä¼ é€’å‚æ•°, å¯ç”¨æ¥éå¸¸å¥½çš„åˆ†äº«å’Œä¼ æ’­, ä½¿ç”¨GET</li><li>get æ–¹å¼çš„å®‰å…¨æ€§è¾ƒ Post æ–¹å¼è¦å·®äº›ã€‚åŒ…æ‹¬æœºå¯†ä¿¡æ¯çš„è¯ã€‚å»ºè®®ç”¨Post æ•°æ®æäº¤æ–¹å¼</li><li>åœ¨åšæ•°æ®æŸ¥è¯¢æ—¶ã€‚å»ºè®®ç”¨ Get æ–¹å¼ï¼›è€Œåœ¨åšæ•°æ®åŠ å…¥ã€æ”¹åŠ¨æˆ–åˆ é™¤æ—¶ï¼Œå»ºè®®ç”¨Post æ–¹å¼</li></ol><h3 id="_3-3-httpå“åº”" tabindex="-1"><a class="header-anchor" href="#_3-3-httpå“åº”"><span>3.3 HTTPå“åº”</span></a></h3><figure><img src="/assets/image-20241205120924616-DKYf-D6W.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><a href="./img/HTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81%E8%AF%B4%E6%98%8E.pdf">HTTPå“åº”çŠ¶æ€ç </a></p><figure><img src="/assets/image-20241205124424689-D3z1YxFe.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>302 é‡å®šå‘</strong></p><figure><img src="/assets/image-20241205124317759-Dd-rieci.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">T1Servlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//è¿™é‡Œæˆ‘ä»¬æŠŠ doGetå’ŒdoPoståˆå¹¶å¤„ç†</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//å¦‚æœæœ‰ä¸€ä¸ªè¯·æ±‚æ¥</span></span>
<span class="line">        <span class="token comment">//é‡å®šå‘åˆ°hi.html</span></span>
<span class="line">        <span class="token comment">//(1) è¿”å›302çŠ¶æ€ç  (2) å“åº”å¤´Location:/hi.html</span></span>
<span class="line">        <span class="token comment">//response.sendRedirect(&quot;/http/hi.html&quot;);</span></span>
<span class="line">        response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p><strong>304 è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹,ä¸è¿”å›èµ„æº, ä»ç„¶ä½¿ç”¨ç¼“å­˜æ•°æ®</strong></p><p>å½“æˆ‘ä»¬è¯·æ±‚èµ„æºçš„æ—¶ï¼ŒæœåŠ¡å™¨ä¼šè¿”å›è¯¥èµ„æºçš„æœ€è¿‘ä¿®æ”¹æ—¶é—´ <code>Last-Modified: Mon, 21 Feb 2022 04:51:31 GMT </code></p><ul><li>å¦‚æœæµè§ˆå™¨<strong>ç¦ç”¨ç¼“å­˜</strong>, è¿™ä¸ª Last-Modified: ä¿¡æ¯å°±æ²¡æœ‰ä½¿ç”¨, æµè§ˆå™¨å°±æ¯æ¬¡è¦æ±‚è¿”å›è¯¥èµ„æº</li><li>å¦‚æœæµè§ˆå™¨<strong>æ²¡æœ‰ç¦ç”¨ç¼“å­˜</strong>, æµè§ˆå™¨åœ¨è¯·æ±‚æ—¶ï¼Œå°±ä¼š <code>If-Modified-Since: Mon, 21 Feb 2022 04:51:31 GMT</code><ul><li>(1) å‘Šè¯‰æœåŠ¡å™¨æˆ‘æœ‰è¯¥èµ„æº</li><li>(2) è¯¥èµ„æºçš„æœ€è¿‘ä¿®æ”¹æ—¶é—´æ˜¯ Mon, 21 Feb 2022 04:51:31GM</li><li>(3) è¿™æ—¶æœåŠ¡å™¨å°±ä¼šæ¯”è¾ƒæ—¶é—´ï¼Œå¦‚æœæœåŠ¡å™¨çš„èµ„æºæ›´æ–°ï¼Œ å°±ä¼šè¿”å›è¯¥èµ„æº, å¦‚æœå‘ç°æ²¡æœ‰ä¿®æ”¹ï¼Œå°±è¿”å› 304 çŠ¶æ€ç (ä½†æ˜¯ä¸ä¼šè¿”å›è¯¥èµ„æº) http è¯·æ±‚æœºåˆ¶</li></ul></li></ul><p><span style="color:red;">Tomcatä¸ç”¨é‡å¯ä¹Ÿèƒ½åˆ·æ–°é¡µé¢çš„æ ¹æœ¬åŸå› </span></p><h3 id="_3-4-get-è¯·æ±‚è¿”å›æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_3-4-get-è¯·æ±‚è¿”å›æ•°æ®"><span>3.4 GET è¯·æ±‚è¿”å›æ•°æ®</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;POSTç™»å½•æˆåŠŸ~~&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// æœåŠ¡ç«¯è¾“å‡º</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LoginServlet doGet() è¢«è°ƒç”¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        </span>
<span class="line">        <span class="token comment">// è¾“å‡ºä¸€å¥è¯, è¿”å›ç»™æµè§ˆå™¨</span></span>
<span class="line">        <span class="token comment">// 1. é€šresponse è·å–æµ PrintWriter, å¯ä»¥ç»™æµè§ˆå™¨å›å¤æ•°æ®</span></span>
<span class="line">        <span class="token comment">//    å®é™…æ˜¯å°†æµè§ˆå™¨æ‰“æ¥çš„æ•°æ®è¢«Tomcatæ”¶åˆ°å, è¯¥æµå°†æ•°æ®å°è£…åˆ°httpå“åº”åŒ…,é€šè¿‡Tomcatå“åº”æ•°æ®</span></span>
<span class="line">        <span class="token comment">// 2. ä¸ºäº†è®©æµè§ˆå™¨æ˜¾ç¤ºä¸­æ–‡ï¼Œéœ€è¦å‘Šè¯‰æµè§ˆå™¨ï¼Œæˆ‘ä»¬çš„ç¼–ç æ˜¯utf-8</span></span>
<span class="line">        <span class="token comment">// è§£è¯»: (1) ç»™ä¼šé€æ•°æ®è®¾ç½®ç¼–ç  (2) text/htmlè¿™ä¸ªæ˜¯MIMEå³å‘Šè¯‰æµè§ˆå™¨è¿”å›çš„æ•°æ®</span></span>
<span class="line">        <span class="token comment">// æ˜¯ textç±»å‹ä¸‹çš„htmlæ ¼å¼æ•°æ®ã€MIMEç±»å‹ å¤§ç±»å‹/å°ç±»å‹ã€‘(3)charset=utf-8æ•°æ®ç¼–ç </span></span>
<span class="line">        <span class="token comment">// å°å°ç»†èŠ‚: è®¾ç½®ç¼–ç æ ¼å¼è¦åœ¨ response.getWriter()!!</span></span>
<span class="line">        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;GET()ç™»å½•æˆåŠŸ~~&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// ä¸ºäº†ç¡®ä¿æ•°æ®è¿”å›ï¼Œå¯ä»¥æŠŠ flush()å’Œclose()</span></span>
<span class="line">        <span class="token comment">// flush() æ–¹æ³•è¡¨ç¤ºå°†ç¼“å­˜çš„æ•°æ®è¿›è¡Œåˆ·æ–°</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">// close() è¡¨ç¤ºå…³é—­æµ,åŠæ—¶é‡Šæ”¾èµ„æº,  æœ‰äº›è¯­è¨€æ˜¯ close() æœ‰ flush()</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_3-5-mimeç±»å‹" tabindex="-1"><a class="header-anchor" href="#_3-5-mimeç±»å‹"><span>3.5 MIMEç±»å‹</span></a></h3><p>MIME æ˜¯ HTTP åè®®ä¸­æ•°æ®ç±»å‹ã€‚ MIME çš„è‹±æ–‡å…¨ç§°æ˜¯&quot;Multipurpose Internet Mail Extensions&quot; <strong>å¤šåŠŸèƒ½ Internet é‚®ä»¶æ‰©å……æœåŠ¡</strong>ï¼Œ<strong>æ ¼å¼</strong>æ˜¯ <strong>â€œå¤§ç±»å‹/å°ç±»å‹â€</strong>ï¼Œå¹¶ä¸æŸä¸€ç§æ–‡ä»¶çš„æ‰©å±•åç›¸å¯¹åº”</p><figure><img src="/assets/image-20241205135807526-C5FP9P31.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_4-servletconfig-ç±»" tabindex="-1"><a class="header-anchor" href="#_4-servletconfig-ç±»"><span>4. ServletConfig ç±»</span></a></h2><ol><li>ServletConfig ç±»æ˜¯ä¸º Servlet ç¨‹åºçš„é…ç½®ä¿¡æ¯çš„ç±»</li><li>Servlet ç¨‹åºå’Œ ServletConfig å¯¹è±¡éƒ½æ˜¯ç”± Tomcat è´Ÿè´£åˆ›å»º</li><li>Servlet ç¨‹åºé»˜è®¤æ˜¯ç¬¬ä¸€æ¬¡è®¿é—®çš„æ—¶å€™åˆ›å»ºï¼ŒServletConfig æ˜¯æ¯ä¸ª Servlet ç¨‹åºåˆ›å»ºæ—¶ï¼Œå°±åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletConfigå¯¹è±¡</li></ol><p>ä½œç”¨ï¼š</p><ul><li>è·å– Servlet ç¨‹åºçš„åˆ«å servlet-name çš„å€¼</li><li>è·å–åˆå§‹åŒ–å‚æ•° init-param</li><li>è·å– ServletContext å¯¹è±¡</li></ul><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DBServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">    <span class="token doc-comment comment">/**</span>
<span class="line">     * æ¢³ç†ServletConfig config ä½¿ç”¨æµç¨‹</span>
<span class="line">     * 1. å½“DBServletå¯¹è±¡åˆå§‹åŒ–æ—¶, tomcatä¼šåŒæ—¶åˆ›å»ºä¸€ä¸ª ServletConfigå¯¹è±¡</span>
<span class="line">     * 2. è¿™æ—¶å¦‚æœDBServlet init() æ–¹æ³•ä¸­ä½ è°ƒç”¨ super.init(config);</span>
<span class="line">     * 3. è°ƒç”¨ çˆ¶ç±» GenericServlet</span>
<span class="line">     * public void init(ServletConfig config) throws ServletException <span class="token punctuation">{</span></span>
<span class="line">     * 	this.config = config;</span>
<span class="line">     * 	this.init();</span>
<span class="line">     * <span class="token punctuation">}</span></span>
<span class="line">     * è¿™æ—¶å°±ä¼šæŠŠ Tomcatåˆ›å»ºçš„ ServletConfigå¯¹è±¡èµ‹ç»™ GenericServletçš„å±æ€§ config</span>
<span class="line">     * 4. å› æ­¤å¦‚æœä½ é‡å†™init()æ–¹æ³•ï¼Œè®°ä½å¦‚æœä½ æƒ³åœ¨å…¶å®ƒæ–¹æ³•é€šè¿‡ getServletConfig() æ–¹æ³•è·å–ServletConfig</span>
<span class="line">     * , åˆ™ä¸€å®šè¦è®°ä½ è°ƒç”¨  super.init(config);</span>
<span class="line">     * <span class="token keyword">@param</span> <span class="token parameter">config</span></span>
<span class="line">     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">ServletException</span></span></span>
<span class="line">     */</span></span>
<span class="line"></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">ServletConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//ConcurrentHashMap, æ˜¯ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å®¹å™¨.</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;init&quot;</span> <span class="token operator">+</span> config<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">// åœ¨DBServlet æ‰§è¡Œ doGet()/doPost() æ—¶ï¼Œå¯ä»¥è·å–åˆ°web.xmlé…ç½®çš„ç”¨æˆ·åå’Œå¯†ç </span></span>
<span class="line">        <span class="token comment">// DBServletçš„çˆ¶ç±»GenericServletæœ‰getServletConfig()</span></span>
<span class="line">        <span class="token doc-comment comment">/**</span>
<span class="line">         * 1. getServletConfig() æ–¹æ³•æ˜¯ GenericServlet</span>
<span class="line">         * 2. è¿”å›çš„ servletConfigå¯¹è±¡æ˜¯ GenericServlet private transient ServletConfig config;</span>
<span class="line">         * 3. å½“ä¸€ä¸ªå±æ€§è¢« transient ä¿®é¥°ï¼Œè¡¨ç¤ºè¯¥å±æ€§ä¸ä¼šè¢«ä¸²è¡ŒåŒ–(æœ‰äº›é‡è¦ä¿¡æ¯ï¼Œä¸å¸Œæœ›ä¿å­˜åˆ°æ–‡ä»¶)</span>
<span class="line">         */</span></span>
<span class="line">        <span class="token class-name">ServletConfig</span> servletConfig <span class="token operator">=</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;doPost=&quot;</span> <span class="token operator">+</span> servletConfig<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> username <span class="token operator">=</span> servletConfig<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆå§‹åŒ–å‚æ•°username= &quot;</span> <span class="token operator">+</span> username<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token comment">&lt;!--init-param æ˜¯åˆå§‹åŒ–å‚æ•°--&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>root<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-servletcontext-ç±»" tabindex="-1"><a class="header-anchor" href="#_5-servletcontext-ç±»"><span>5. ServletContext ç±»</span></a></h2><ol><li>æ˜¯ä¸€ä¸ª <strong>æ¥å£</strong>ï¼Œå®ƒè¡¨ç¤º Servlet ä¸Šä¸‹æ–‡å¯¹è±¡</li><li>ä¸€ä¸ª web å·¥ç¨‹ï¼Œåªæœ‰ <strong>ä¸€ä¸ª</strong> ServletContext å¯¹è±¡å®ä¾‹</li><li>åœ¨ web å·¥ç¨‹éƒ¨ç½²å¯åŠ¨çš„æ—¶å€™<strong>åˆ›å»º</strong>ï¼Œåœ¨ web å·¥ç¨‹åœæ­¢çš„æ—¶å€™<strong>é”€æ¯</strong></li><li>æ˜¯ä¸€ä¸ª<strong>åŸŸå¯¹è±¡</strong>ï¼ˆåŸŸå¯¹è±¡ï¼Œæ˜¯å¯ä»¥åƒ Map ä¸€æ ·å­˜å–æ•°æ®çš„å¯¹è±¡ï¼Œ è¿™é‡Œçš„åŸŸæŒ‡çš„æ˜¯å­˜å–æ•°æ®çš„æ“ä½œèŒƒå›´ï¼Œæ•´ä¸ª web å·¥ç¨‹ï¼‰</li><li>ServletContext å¯¹è±¡å¯ä»¥é€šè¿‡ <code>ServletConfig.getServletContext()</code> æ–¹æ³•è·å¾—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>this.getServletContext()</code>æ¥è·å¾—</li></ol><table><thead><tr><th></th><th>å­˜æ•°æ®</th><th>å–æ•°æ®</th><th>åˆ é™¤æ•°æ®</th></tr></thead><tbody><tr><td>Map</td><td>put()</td><td>get()</td><td>remove()</td></tr><tr><td>åŸŸå¯¹è±¡</td><td>setAttribute()</td><td>getAttribute()</td><td>removeAttribute()</td></tr></tbody></table><h3 id="_5-1-å­˜åœ¨çš„æ„ä¹‰" tabindex="-1"><a class="header-anchor" href="#_5-1-å­˜åœ¨çš„æ„ä¹‰"><span>5.1 å­˜åœ¨çš„æ„ä¹‰</span></a></h3><p>å…ˆçœ‹ä¸€ä¸ªéœ€æ±‚ï¼š å¦‚æœæˆ‘ä»¬å¸Œæœ›ç»Ÿè®¡æŸä¸ª web åº”ç”¨çš„æ‰€æœ‰Servlet è¢«è®¿é—®çš„æ¬¡æ•°</p><p>ä¸¤ç§æ–¹æ¡ˆ</p><figure><img src="/assets/image-20241206214840380-BrFzN8tp.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="/assets/image-20241206214858446-B6XC35C7.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_5-2-ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_5-2-ä½œç”¨"><span>5.2 ä½œç”¨</span></a></h3><ul><li>è·å– web.xml ä¸­é…ç½®çš„ä¸Šä¸‹æ–‡å‚æ•° context-param</li><li>è·å–å½“å‰çš„å·¥ç¨‹è·¯å¾„ï¼Œæ ¼å¼: <code> /å·¥ç¨‹è·¯å¾„</code></li><li>è·å–å·¥ç¨‹éƒ¨ç½²ååœ¨æœåŠ¡å™¨ç¡¬ç›˜ä¸Šçš„ç»å¯¹è·¯å¾„</li><li>åƒ Map ä¸€æ ·å­˜å–æ•°æ®</li></ul><h3 id="_5-3-åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_5-3-åº”ç”¨"><span>5.3 åº”ç”¨</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> throwsServletException<span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// 1ã€è·å– web.xml ä¸­é…ç½®çš„ä¸Šä¸‹æ–‡å‚æ•° context-param</span></span>
<span class="line">	<span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token function">getServletConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// 2ã€è·å–å½“å‰çš„å·¥ç¨‹è·¯å¾„ï¼Œæ ¼å¼: /å·¥ç¨‹è·¯å¾„</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span> <span class="token string">&quot;å½“å‰å·¥ç¨‹è·¯å¾„:&quot;</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token comment">// 3ã€è·å–å·¥ç¨‹éƒ¨ç½²ååœ¨æœåŠ¡å™¨ç¡¬ç›˜ä¸Šçš„ç»å¯¹è·¯å¾„</span></span>
<span class="line">    <span class="token comment">//    è¡¨ç¤ºé¡¹ç›®å‘å¸ƒåçš„æ ¹è·¯å¾„ ..out...</span></span>
<span class="line">    <span class="token comment">// æ‹¿åˆ°http://ip.port/å·¥ç¨‹å</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å·¥ç¨‹éƒ¨ç½²çš„è·¯å¾„æ˜¯:&quot;</span> <span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// 4ã€åƒ Map ä¸€æ ·å­˜å–æ•°æ®</span></span>
<span class="line">	context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;value1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è·å–åŸŸæ•°æ® key1 çš„å€¼æ˜¯:&quot;</span><span class="token operator">+</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token comment">&lt;!--context-param æ˜¯ä¸Šä¸‹æ–‡å‚æ•°(å®ƒå±äºæ•´ä¸ª web å·¥ç¨‹)--&gt;</span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">&gt;</span></span>username<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">&gt;</span></span>context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebUtils</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">//è¿™ä¸ªæ–¹æ³•å°±æ˜¯å¯¹è®¿é—®çš„æ¬¡æ•°ç´¯ç§¯ï¼ŒåŒæ—¶è¿”å›æ¬¡æ•°</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">visitCount</span><span class="token punctuation">(</span><span class="token class-name">ServletContext</span> servletContext<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">//ä»servletContextè·å– visit_count å±æ€§ k-v</span></span>
<span class="line">        <span class="token class-name">Object</span> visit_count <span class="token operator">=</span> servletContext<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;visit_count&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//åˆ¤æ–­visit_countæ˜¯å¦ä¸ºnull</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>visit_count <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//è¯´æ˜æ˜¯ç¬¬1æ¬¡è®¿é—®ç½‘ç«™</span></span>
<span class="line">            servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;visit_count&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            visit_count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">//æ˜¯ç¬¬äºŒæ¬¡æˆ–ä»¥å</span></span>
<span class="line">            <span class="token comment">//å–å‡ºvisit_countå±æ€§çš„å€¼+1</span></span>
<span class="line">            visit_count <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>visit_count <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token comment">//æ”¾å›åˆ°servletContext</span></span>
<span class="line">            servletContext<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;visit_count&quot;</span><span class="token punctuation">,</span> visit_count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>visit_count <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//è·å–åˆ°ServletContextå¯¹è±¡</span></span>
<span class="line">        <span class="token class-name">ServletContext</span> servletContext <span class="token operator">=</span> <span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">Integer</span> visit_count <span class="token operator">=</span> <span class="token class-name">WebUtils</span><span class="token punctuation">.</span><span class="token function">visitCount</span><span class="token punctuation">(</span>servletContext<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token comment">//è¾“å‡ºæ˜¾ç¤º</span></span>
<span class="line">        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;æ–°ç½‘ç«™è¢«è®¿é—®çš„æ¬¡æ•°æ˜¯&quot;</span> <span class="token operator">+</span> visit_count <span class="token operator">+</span> <span class="token string">&quot;&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">doPost</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_6-httpservletrequest-ç±»" tabindex="-1"><a class="header-anchor" href="#_6-httpservletrequest-ç±»"><span>6. HttpServletRequest ç±»</span></a></h2><p>æ¯æ¬¡åªè¦æœ‰è¯·æ±‚è¿›å…¥ Tomcat æœåŠ¡å™¨ï¼ŒTomcat æœåŠ¡å™¨å°±ä¼šæŠŠè¯·æ±‚è¿‡æ¥çš„ HTTP åè®®ä¿¡æ¯è§£æå¥½å°è£…åˆ°Request å¯¹è±¡ä¸­ã€‚ç„¶åä¼ é€’åˆ° service æ–¹æ³•ï¼ˆdoGet å’Œ doPostï¼‰ä¸­ç»™æˆ‘ä»¬ä½¿ç”¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ HttpServletRequest å¯¹è±¡ï¼Œè·å–åˆ°æ‰€æœ‰è¯·æ±‚çš„ä¿¡æ¯ã€‚</p><ol><li>HttpServletRequest å¯¹è±¡ä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚</li><li>å½“å®¢æˆ·ç«¯/æµè§ˆå™¨é€šè¿‡ HTTP åè®®è®¿é—®æœåŠ¡å™¨æ—¶ï¼ŒHTTP è¯·æ±‚å¤´ä¸­çš„æ‰€æœ‰ä¿¡æ¯éƒ½å°è£…åœ¨è¿™ä¸ªå¯¹è±¡ä¸­</li><li>é€šè¿‡è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œå¯ä»¥è·å¾—å®¢æˆ·ç«¯è¿™äº›ä¿¡æ¯ã€‚</li><li>æ˜¯ä¸€ä¸ªåŸŸå¯¹è±¡</li></ol><h3 id="_6-1-å¸¸ç”¨æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_6-1-å¸¸ç”¨æ–¹æ³•"><span>6.1 å¸¸ç”¨æ–¹æ³•</span></a></h3><table><thead><tr><th>æ–¹æ³•</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>getRequestURI()</td><td>è·å–è¯·æ±‚çš„èµ„æºè·¯å¾„ï¼ˆ<code>/å·¥ç¨‹å/è·¯å¾„</code>ï¼‰</td></tr><tr><td>getRequestURL()</td><td>è·å–è¯·æ±‚çš„ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆ<code>http://localhost:8080/å·¥ç¨‹å/è·¯å¾„</code>ï¼‰</td></tr><tr><td>getRemoteHost()</td><td>è·å–å®¢æˆ·ç«¯çš„ä¸»æœº</td></tr><tr><td>getRemoteAddr()</td><td>è·å–å®¢æˆ·ç«¯çš„ IPåœ°å€</td></tr><tr><td>getHeader(&quot;è¯·æ±‚å¤´å­—æ®µ&quot;)</td><td>è·å–è¯·æ±‚å¤´</td></tr><tr><td>getParameter()</td><td>è·å–è¯·æ±‚çš„å‚æ•°</td></tr><tr><td>getParameterValues()</td><td>è·å–è¯·æ±‚çš„å‚æ•°ï¼ˆå¤šä¸ªå€¼çš„æ—¶å€™ä½¿ç”¨ï¼‰</td></tr><tr><td>getMethod()</td><td>è·å–è¯·æ±‚çš„æ–¹å¼ GET æˆ– POST</td></tr><tr><td>setAttribute(key, value);</td><td>è®¾ç½®åŸŸæ•°æ®</td></tr><tr><td>getAttribute(key);</td><td>è·å–åŸŸæ•°æ®</td></tr><tr><td>getRequestDispatcher()</td><td>è·å–è¯·æ±‚è½¬å‘å¯¹è±¡ï¼ˆ&quot;/è·¯å¾„&quot;ï¼‰</td></tr></tbody></table><h3 id="_6-2-è§£å†³ä¸­æ–‡ä¹±ç " tabindex="-1"><a class="header-anchor" href="#_6-2-è§£å†³ä¸­æ–‡ä¹±ç "><span>6.2 è§£å†³ä¸­æ–‡ä¹±ç </span></a></h3><ul><li><p>doGet</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è·å–è¯·æ±‚å‚æ•°</span></span>
<span class="line"><span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å…ˆä»¥ iso8859-1 è¿›è¡Œç¼–ç </span></span>
<span class="line"><span class="token comment">// å†ä»¥ utf-8 è¿›è¡Œè§£ç </span></span>
<span class="line">username <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>username<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;iso-8859-1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>doPost</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è®¾ç½®è¯·æ±‚ä½“çš„å­—ç¬¦é›†ä¸º UTF-8ï¼Œä»è€Œè§£å†³ post è¯·æ±‚çš„ä¸­æ–‡ä¹±ç é—®é¢˜</span></span>
<span class="line">req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è·å–è¯·æ±‚å†…å®¹å¿…é¡»åœ¨setCharacterEncodingåé¢</span></span>
<span class="line"><span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_6-3-è¯·æ±‚è½¬å‘" tabindex="-1"><a class="header-anchor" href="#_6-3-è¯·æ±‚è½¬å‘"><span>6.3 è¯·æ±‚è½¬å‘</span></a></h3><p>æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œä»ä¸€æ¬¡èµ„æºè·³è½¬åˆ°å¦ä¸€ä¸ªèµ„æºçš„æ“ä½œå«è¯·æ±‚è½¬å‘</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>æµè§ˆå™¨åœ°å€æ ä¸å˜</li><li>ä¸€æ¬¡è¯·æ±‚</li><li>å…±äº«Requestæ•°æ®</li><li>å¯ä»¥è½¬å‘åˆ°WEB-INFä¸‹</li><li>ä¸å¯è®¿é—®å·¥ç¨‹å¤–çš„èµ„æº</li></ul><p><mark>Servlet1</mark></p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Override</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span><span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// è·å–è¯·æ±‚çš„å‚æ•°</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	</span>
<span class="line">	<span class="token comment">// ä¼ é€’åˆ°Servlet2æŸ¥çœ‹</span></span>
<span class="line">	req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;æŸœå° 1 çš„ç« &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">	<span class="token class-name">RequestDispatcher</span> requestDispatcher <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/servlet2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    requestDispatcher<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p><mark>Servlet2</mark></p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Override</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> 	<span class="token class-name">ServletException</span><span class="token punctuation">,</span><span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// è·å–è¯·æ±‚çš„å‚æ•°</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	</span>
<span class="line">	<span class="token comment">// æŸ¥çœ‹</span></span>
<span class="line">	<span class="token class-name">Object</span> key1 <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;key1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	</span>
<span class="line">	<span class="token comment">// å¤„ç†è‡ªå·±çš„ä¸šåŠ¡</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="_6-4-æ–œæ åœ¨webä¸åŒå«ä¹‰" tabindex="-1"><a class="header-anchor" href="#_6-4-æ–œæ åœ¨webä¸åŒå«ä¹‰"><span>6.4 æ–œæ åœ¨Webä¸åŒå«ä¹‰</span></a></h3><blockquote><p>åœ¨ web ä¸­ / æ–œæ  æ˜¯ä¸€ç§ç»å¯¹è·¯å¾„</p><ul><li><p>è¢«æµè§ˆå™¨è§£æï¼Œå¾—åˆ°çš„åœ°å€æ˜¯ï¼šhttp://ip:port/</p></li><li><p>è¢«æœåŠ¡å™¨è§£æï¼Œå¾—åˆ°çš„åœ°å€æ˜¯ï¼šhttp://ip:port/å·¥ç¨‹è·¯å¾„</p><p>ç‰¹æ®Šæƒ…å†µï¼š response.sendRediect(â€œ/â€); æŠŠæ–œæ å‘é€ç»™æµè§ˆå™¨è§£æã€‚å¾—åˆ°http://ip:port/</p></li></ul></blockquote><h2 id="_7-httpservletresponse-ç±»" tabindex="-1"><a class="header-anchor" href="#_7-httpservletresponse-ç±»"><span>7. HttpServletResponse ç±»</span></a></h2><p>HttpServletResponse ç±»å’Œ HttpServletRequest ç±»ä¸€æ ·ã€‚æ¯æ¬¡è¯·æ±‚è¿›æ¥ï¼ŒTomcat æœåŠ¡å™¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªResponseå¯¹è±¡ä¼ é€’ç»™ Servlet ç¨‹åºå»ä½¿ç”¨ã€‚HttpServletRequest è¡¨ç¤ºè¯·æ±‚è¿‡æ¥çš„ä¿¡æ¯ï¼ŒHttpServletResponse è¡¨ç¤ºæ‰€æœ‰å“åº”çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦è®¾ç½®è¿”å›ç»™å®¢æˆ·ç«¯çš„ä¿¡æ¯ï¼Œéƒ½å¯ä»¥é€šè¿‡ HttpServletResponse å¯¹è±¡æ¥è¿›è¡Œè®¾ç½®</p><table><thead><tr><th>å­—èŠ‚æµ</th><th>getOutputStream();</th><th>å¸¸ç”¨äºä¸‹è½½ï¼ˆä¼ é€’äºŒè¿›åˆ¶æ•°æ®ï¼‰</th></tr></thead><tbody><tr><td>å­—ç¬¦æµ</td><td>getWriter();</td><td>å¸¸ç”¨äºå›ä¼ å­—ç¬¦ä¸²ï¼ˆå¸¸ç”¨ï¼‰</td></tr></tbody></table><ul><li>ä¸¤ä¸ªæµåŒæ—¶åªèƒ½ä½¿ç”¨ä¸€ä¸ªã€‚</li></ul><h3 id="_7-1-å¾€å®¢æˆ·ç«¯å›ä¼ æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_7-1-å¾€å®¢æˆ·ç«¯å›ä¼ æ•°æ®"><span>7.1 å¾€å®¢æˆ·ç«¯å›ä¼ æ•°æ®</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Override</span></span>
<span class="line"><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span><span class="token class-name">IOException</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// è¦æ±‚ ï¼š å¾€å®¢æˆ·ç«¯å›ä¼  å­—ç¬¦ä¸² æ•°æ®ã€‚</span></span>
<span class="line">	<span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	writer<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;response&#39;s content!!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-å“åº”ä¹±ç è§£å†³" tabindex="-1"><a class="header-anchor" href="#_7-2-å“åº”ä¹±ç è§£å†³"><span>7.2 å“åº”ä¹±ç è§£å†³</span></a></h3><p>ä¸¤ç§æ–¹æ¡ˆ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è®¾ç½®æœåŠ¡å™¨å­—ç¬¦é›†ä¸º UTF-8</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// é€šè¿‡å“åº”å¤´ï¼Œè®¾ç½®æµè§ˆå™¨ä¹Ÿä½¿ç”¨ UTF-8 å­—ç¬¦é›†</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/html; charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å®ƒä¼šåŒæ—¶è®¾ç½®æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ä½¿ç”¨ UTF-8 å­—ç¬¦é›†ï¼Œè¿˜è®¾ç½®äº†å“åº”å¤´</span></span>
<span class="line"><span class="token comment">// æ­¤æ–¹æ³•ä¸€å®šè¦åœ¨è·å–æµå¯¹è±¡ä¹‹å‰è°ƒç”¨æ‰æœ‰æ•ˆ</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html; charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-è¯·æ±‚é‡å®šå‘" tabindex="-1"><a class="header-anchor" href="#_7-3-è¯·æ±‚é‡å®šå‘"><span>7.3 è¯·æ±‚é‡å®šå‘</span></a></h3><p>è¯·æ±‚é‡å®šå‘ï¼Œæ˜¯æŒ‡å®¢æˆ·ç«¯ç»™æœåŠ¡å™¨å‘è¯·æ±‚ï¼Œç„¶åæœåŠ¡å™¨å‘Šè¯‰å®¢æˆ·ç«¯è¯´ã€‚æˆ‘ç»™ä½ ä¸€äº›åœ°å€ã€‚ä½ å»æ–°åœ°å€è®¿é—®ã€‚å«è¯·æ±‚é‡å®šå‘ï¼ˆå› ä¸ºä¹‹å‰çš„åœ°å€å¯èƒ½å·²ç»è¢«åºŸå¼ƒï¼‰</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>æµè§ˆå™¨åœ°å€æ ä¼šå˜</li><li>ä¸¤æ¬¡è¯·æ±‚</li><li>ä¸å…±äº«Requestæ•°æ®</li><li>ä¸èƒ½è®¿é—®WEB-INFä¸‹èµ„æº</li><li>å¯è®¿é—®å·¥ç¨‹å¤–çš„èµ„æº</li></ul><p>ä¸¤ç§æ–¹æ¡ˆ</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token comment">// è®¾ç½®å“åº”çŠ¶æ€ç  302 ï¼Œè¡¨ç¤ºé‡å®šå‘ï¼Œï¼ˆå·²æ¬è¿ï¼‰</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">302</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// è®¾ç½®å“åº”å¤´ï¼Œè¯´æ˜ æ–°çš„åœ°å€åœ¨å“ªé‡Œ</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Location&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è‡ªåŠ¨åŒ–è®¾ç½®</span></span>
<span class="line">resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â€‹</p><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="footnote1" class="footnote-item"><p>æ‰€æœ‰é€šè¿‡ Java è¯­è¨€ç¼–å†™å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®çš„ç¨‹åºçš„æ€»ç§° <a href="#footnote-ref1" class="footnote-backref">â†©ï¸</a></p></li><li id="footnote2" class="footnote-item"><p>Servletã€Filterã€Listener <a href="#footnote-ref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/codenotes/back/javaweb/Tomcat.html" aria-label="Tomcat"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Tomcat</div></a><a class="route-link auto-link next" href="/codenotes/back/javaweb/JSP.html" aria-label="JSP"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">JSP<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">Ahzyã®å­¦ä¹ ç¬”è®°</div><div class="vp-copyright">Copyright Â© 2024 Ahzy </div></footer></div><!--]--><!--[--><!----><!----><!----><!--[--><!--]--><!----><!----><!----><!----><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-eWV4nnR8.js" defer></script>
  </body>
</html>
