<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://hwchen.top/codenotes/back/frame/MybatisPlus.html"><meta property="og:site_name" content="Ahzy"><meta property="og:title" content="Mybatis"><meta property="og:description" content="å‹‡æ•¢å°±æ˜¯ï¼Œåœ¨ä½ è¿˜æ²¡å¼€å§‹çš„æ—¶å€™å°±çŸ¥é“è‡ªå·±æ³¨å®šä¼šè¾“ï¼Œä½†ä¾ç„¶ä¹‰æ— åé¡¾åœ°å»åšï¼Œå¹¶ä¸”ä¸ç®¡å‘ç”Ÿä»€ä¹ˆéƒ½åšæŒåˆ°åº•ã€‚ä¸€ä¸ªäººå¾ˆå°‘èƒ½èµ¢ï¼Œä½†ä¹Ÿæ€»ä¼šæœ‰èµ¢çš„æ—¶å€™ã€‚ 1. ç®€ä»‹ MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚ æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­..."><meta property="og:type" content="website"><meta property="og:image" content="https://gitee.com/private_crh/notes/raw/master/typora/15098957900254528.png =800x320"><meta property="og:locale" content="zh-CN"><meta property="article:author" content="æ¨åšè¶…"><meta property="article:tag" content="æ¡†æ¶"><meta property="article:published_time" content="2024-11-07T00:00:00.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"WebPage","name":"Mybatis","description":"å‹‡æ•¢å°±æ˜¯ï¼Œåœ¨ä½ è¿˜æ²¡å¼€å§‹çš„æ—¶å€™å°±çŸ¥é“è‡ªå·±æ³¨å®šä¼šè¾“ï¼Œä½†ä¾ç„¶ä¹‰æ— åé¡¾åœ°å»åšï¼Œå¹¶ä¸”ä¸ç®¡å‘ç”Ÿä»€ä¹ˆéƒ½åšæŒåˆ°åº•ã€‚ä¸€ä¸ªäººå¾ˆå°‘èƒ½èµ¢ï¼Œä½†ä¹Ÿæ€»ä¼šæœ‰èµ¢çš„æ—¶å€™ã€‚ 1. ç®€ä»‹ MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚ æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­..."}</script><link rel="icon" href="/favicon.svg"><meta name="referrer" content="no-referrer"><link rel="icon" href="/favicon.ico"><link rel="icon" href="/img/pwa/48.png" type="image/png" sizes="48x48"><link rel="icon" href="/img/pwa/72.png" type="image/png" sizes="72x72"><link rel="icon" href="/img/pwa/144.png" type="image/png" sizes="144x144"><link rel="icon" href="/img/pwa/192.png" type="image/png" sizes="192x192"><link rel="icon" href="/img/pwa/512.png" type="image/png" sizes="512x512"><link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials"><meta name="theme-color" content="#af7ac5"><link rel="apple-touch-icon" href="/img/pwa/48.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="msapplication-TileImage" content="/img/pwa/48.png"><meta name="msapplication-TileColor" content="#af7ac5"><link rel="alternate" type="application/atom+xml" href="https://hwchen.top/atom.xml" title="Ahzy Atom Feed"><link rel="alternate" type="application/json" href="https://hwchen.top/feed.json" title="Ahzy JSON Feed"><link rel="alternate" type="application/rss+xml" href="https://hwchen.top/rss.xml" title="Ahzy RSS Feed"><title>Mybatis | Ahzy</title><meta name="description" content="å‹‡æ•¢å°±æ˜¯ï¼Œåœ¨ä½ è¿˜æ²¡å¼€å§‹çš„æ—¶å€™å°±çŸ¥é“è‡ªå·±æ³¨å®šä¼šè¾“ï¼Œä½†ä¾ç„¶ä¹‰æ— åé¡¾åœ°å»åšï¼Œå¹¶ä¸”ä¸ç®¡å‘ç”Ÿä»€ä¹ˆéƒ½åšæŒåˆ°åº•ã€‚ä¸€ä¸ªäººå¾ˆå°‘èƒ½èµ¢ï¼Œä½†ä¹Ÿæ€»ä¼šæœ‰èµ¢çš„æ—¶å€™ã€‚ 1. ç®€ä»‹ MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚ æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­...">
    <link rel="preload" href="/assets/style-DKCFkj7Y.css" as="style"><link rel="stylesheet" href="/assets/style-DKCFkj7Y.css">
    <link rel="modulepreload" href="/assets/app-eWV4nnR8.js"><link rel="modulepreload" href="/assets/MybatisPlus.html-BWzON-Dy.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/" aria-label="å¸¦æˆ‘å›å®¶"><!----><!----><span class="vp-site-name">Ahzy</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="ğŸ“‘ å­¦ä¹ ç¬”è®°"><!--[--><!---->ğŸ“‘ å­¦ä¹ ç¬”è®°<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codenotes/ui/" aria-label="å‰ç«¯"><!--[--><img class="icon" src="/icon/juanzhou2.svg" alt aria-hidden no-view style=""><!--]-->å‰ç«¯<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/codenotes/back/" aria-label="åç«¯"><!--[--><img class="icon" src="/icon/baodian.svg" alt aria-hidden no-view style=""><!--]-->åç«¯<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/codenotes/basic/" aria-label="å­¦ç§‘åŸºç¡€"><!--[--><img class="icon" src="/icon/book2.svg" alt aria-hidden no-view style=""><!--]-->å­¦ç§‘åŸºç¡€<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="â­ ä¸ªäººåšå®¢"><!--[--><!---->â­ ä¸ªäººåšå®¢<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">éšç¬”</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/iter/" aria-label="æ‹¾ Â· è®°"><!--[--><img class="icon" src="/icon/huiyi.svg" alt aria-hidden no-view style=""><!--]-->æ‹¾ Â· è®°<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/cooker/" aria-label="æ†© Â· è•¾"><!--[--><img class="icon" src="/icon/food.svg" alt aria-hidden no-view style=""><!--]-->æ†© Â· è•¾<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/thinker/" aria-label="ç¦… Â· æ€"><!--[--><img class="icon" src="/icon/dazuo.svg" alt aria-hidden no-view style=""><!--]-->ç¦… Â· æ€<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/feeling/" aria-label="é†‰ Â· ç¼˜"><!--[--><img class="icon" src="/icon/yezi.svg" alt aria-hidden no-view style=""><!--]-->é†‰ Â· ç¼˜<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">ç¢°å£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/question/" aria-label="æƒ‘ Â· è§£"><!--[--><img class="icon" src="/icon/question.svg" alt aria-hidden no-view style=""><!--]-->æƒ‘ Â· è§£<!----></a></li><li class="vp-dropdown-subitem"><a class="route-link auto-link" href="/floatinglife/tool/" aria-label="ç­‘ Â· ç´¯"><!--[--><img class="icon" src="/icon/shalou.svg" alt aria-hidden no-view style=""><!--]-->ç­‘ Â· ç´¯<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ–‡æ¡£"><!--[--><span class="font-icon icon iconfont icon-book" style=""></span>æ–‡æ¡£<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">å‰ç«¯æ–‡æ¡£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.vite.dev/" aria-label="Vite" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vite.svg" alt aria-hidden no-view style=""><!--]-->Vite<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.vuejs.org/" aria-label="Vue3" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vue.svg" alt aria-hidden no-view style=""><!--]-->Vue3<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://router.vuejs.org/zh/" aria-label="Vue Router" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vuerouter.svg" alt aria-hidden no-view style=""><!--]-->Vue Router<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://vueuse.org/" aria-label="VueUse" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/vueuse.svg" alt aria-hidden no-view style=""><!--]-->VueUse<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://cn.windicss.org/" aria-label="Windi CSS" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/windicss.svg" alt aria-hidden no-view style=""><!--]-->Windi CSS<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://element-plus.org/zh-CN/component/overview.html" aria-label="Element-Plus" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/elementplus.svg" alt aria-hidden no-view style=""><!--]-->Element-Plus<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://www.axios-http.cn/" aria-label="Axios" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/axios.svg" alt aria-hidden no-view style=""><!--]-->Axios<!----></a></li></ul></li><li class="vp-dropdown-item"><h4 class="vp-dropdown-subtitle">åç«¯æ–‡æ¡£</h4><ul class="vp-dropdown-subitems"><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://docs.oracle.com/javase/8/docs/api/index.html" aria-label="Java 8" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/java.svg" alt aria-hidden no-view style=""><!--]-->Java 8<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://tomcat.apache.org/tomcat-8.0-doc/servletapi/index.html" aria-label="Servlet" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/java.svg" alt aria-hidden no-view style=""><!--]-->Servlet<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://spring.io/" aria-label="Spring" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/spring.svg" alt aria-hidden no-view style=""><!--]-->Spring<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://docs.spring.io/spring-boot/index.html" aria-label="SpringBoot" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/springboot.svg" alt aria-hidden no-view style=""><!--]-->SpringBoot<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://spring.io/projects/spring-cloud" aria-label="SpringCloud" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/springcloud.svg" alt aria-hidden no-view style=""><!--]-->SpringCloud<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://git-scm.com/book/zh/v2" aria-label="Git" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/git.svg" alt aria-hidden no-view style=""><!--]-->Git<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://mybatis.p2hp.com/index.html" aria-label="Mybatis" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/mybatis.svg" alt aria-hidden no-view style=""><!--]-->Mybatis<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://baomidou.com/plugins/" aria-label="Mybatis-Plus" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/mybatisplus.svg" alt aria-hidden no-view style=""><!--]-->Mybatis-Plus<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://maven.org.cn/guides/index.html" aria-label="Maven" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/maven.svg" alt aria-hidden no-view style=""><!--]-->Maven<!----></a></li><li class="vp-dropdown-subitem"><a class="auto-link external-link" href="https://tomcat.apache.org/tomcat-10.0-doc/index.html" aria-label="Tomcat" rel="noopener noreferrer" target="_blank"><!--[--><img class="icon" src="/icon/tomcat.svg" alt aria-hidden no-view style=""><!--]-->Tomcat<!----></a></li></ul></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/info/web.html" aria-label="å…³äº"><!--[--><img class="icon" src="/icon/info.svg" alt aria-hidden no-view style=""><!--]-->å…³äº<!----></a></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/road.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å­¦ä¹ è·¯çº¿</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/javab.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Javaæ ¸å¿ƒ</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/javaweb.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">JavaWeb</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/spring.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">Springç”Ÿæ€</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><img class="icon" src="/icon/cengci.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å¼€å‘æ¡†æ¶</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/codenotes/back/frame/Mybatis.html" aria-label="Mybatis"><!--[--><img class="icon" src="/icon/mybatis.svg" alt aria-hidden no-view style=""><!--]-->Mybatis<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/codenotes/back/frame/MybatisPlus.html" aria-label="Mybatis Plus"><!--[--><img class="icon" src="/icon/mybatisplus.svg" alt aria-hidden no-view style=""><!--]-->Mybatis Plus<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/os.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">å¼€å‘å¿…å¤‡</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/database.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">æ•°æ®åº“</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><img class="icon" src="/icon/algorithm.svg" alt aria-hidden no-view style=""><span class="vp-sidebar-title">ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><img class="icon" src="/icon/mybatisplus.svg" alt aria-hidden no-view style="">Mybatis</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">æ¨åšè¶…</span><span class="page-author-item">Ahzy</span></span><span property="author" content="æ¨åšè¶…, Ahzy"></span></span><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024å¹´11æœˆ7æ—¥</span><meta property="datePublished" content="2024-11-07T00:00:00.000Z"></span><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 16 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT16M"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-ç®€ä»‹">1. ç®€ä»‹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç‰¹æ€§">ç‰¹æ€§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ”¯æŒçš„æ•°æ®åº“">æ”¯æŒçš„æ•°æ®åº“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å®˜ç½‘åœ°å€">å®˜ç½‘åœ°å€</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-springbootåŸºæœ¬é…ç½®">2. springbootåŸºæœ¬é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-åŸºæœ¬crud">3. åŸºæœ¬CRUD</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#basemapper">BaseMapper</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#service">Service</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-æ³¨è§£">4. æ³¨è§£</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tablename">@TableName</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tableid">@TableId</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tablefield">@TableField</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#tablelogic">@TableLogic</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-æ¡ä»¶æ„é€ å™¨">5. æ¡ä»¶æ„é€ å™¨</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç»“æ„">ç»“æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#querywrapper">QueryWrapper</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#updatewrapper">UpdateWrapper</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#condition">condition</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lambdaquerywrapper">LambdaQueryWrapper</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#lambdaupdatewrapper">LambdaUpdateWrapper</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-æ’ä»¶">6. æ’ä»¶</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆ†é¡µæ’ä»¶">åˆ†é¡µæ’ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¹è§‚é”æ’ä»¶">ä¹è§‚é”æ’ä»¶</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-é€šç”¨æšä¸¾">7. é€šç”¨æšä¸¾</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬ä½¿ç”¨-2">åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-ä»£ç ç”Ÿæˆå™¨">8. ä»£ç ç”Ÿæˆå™¨</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬ä½¿ç”¨-3">åŸºæœ¬ä½¿ç”¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-å¤šæ•°æ®æº">9. å¤šæ•°æ®æº</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“">æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-mybatisx">10. MybatisX</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><div style="text-align:left;"><p>Â <img src="https://gitee.com/private_crh/notes/raw/master/typora/15098957900254528.png" alt="" width="800" height="320" loading="lazy"></p></div><div style="text-align:right;"><p><strong>å‹‡æ•¢å°±æ˜¯ï¼Œåœ¨ä½ è¿˜æ²¡å¼€å§‹çš„æ—¶å€™å°±çŸ¥é“è‡ªå·±æ³¨å®šä¼šè¾“ï¼Œä½†ä¾ç„¶ä¹‰æ— åé¡¾åœ°å»åšï¼Œå¹¶ä¸”ä¸ç®¡å‘ç”Ÿä»€ä¹ˆéƒ½åšæŒåˆ°åº•ã€‚ä¸€ä¸ªäººå¾ˆå°‘èƒ½èµ¢ï¼Œä½†ä¹Ÿæ€»ä¼šæœ‰èµ¢çš„æ—¶å€™ã€‚</strong></p></div><h2 id="_1-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-ç®€ä»‹"><span>1. ç®€ä»‹</span></a></h2><p>MyBatis-Plusï¼ˆç®€ç§° MPï¼‰æ˜¯ä¸€ä¸ª MyBatisçš„å¢å¼ºå·¥å…·ï¼Œåœ¨ MyBatis çš„åŸºç¡€ä¸Šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œä¸º ç®€åŒ–å¼€å‘ã€æé«˜æ•ˆç‡è€Œç”Ÿã€‚</p><blockquote><p>æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯æˆä¸º MyBatis æœ€å¥½çš„æ­æ¡£ï¼Œå°±åƒé­‚æ–—ç½—ä¸­çš„ 1Pã€2Pï¼ŒåŸºå‹æ­é…ï¼Œæ•ˆç‡ç¿»å€ã€‚</p></blockquote><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241018204838350.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#ç‰¹æ€§"><span>ç‰¹æ€§</span></a></h3><ul><li>æ— ä¾µå…¥ï¼Œå¯¹å·¥ç¨‹æ— å½±å“</li><li>æ€§èƒ½æŸè€—å°</li><li>å¼ºå¤§çš„ CRUD æ“ä½œ</li><li>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨</li><li>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆ</li><li>æ”¯æŒ ActiveRecord æ¨¡å¼</li><li>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œ</li><li>å†…ç½®ä»£ç ç”Ÿæˆå™¨</li><li>å†…ç½®åˆ†é¡µæ’ä»¶</li><li>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“ï¼š</li><li>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶</li><li>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶</li></ul><h3 id="æ”¯æŒçš„æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#æ”¯æŒçš„æ•°æ®åº“"><span>æ”¯æŒçš„æ•°æ®åº“</span></a></h3><blockquote><p>ä»»ä½•èƒ½ä½¿ç”¨MyBatisè¿›è¡Œ CRUD, å¹¶ä¸”æ”¯æŒæ ‡å‡† SQL çš„æ•°æ®åº“</p></blockquote><p>ä¾‹å¦‚ï¼š</p><p>MySQLï¼ŒOracleï¼ŒDB2ï¼ŒH2ï¼ŒHSQLï¼ŒSQLiteï¼ŒPostgreSQLï¼ŒSQLServerï¼ŒPhoenixï¼ŒGauss ï¼Œ ClickHouseï¼ŒSybaseï¼ŒOceanBaseï¼ŒFirebirdï¼ŒCubridï¼ŒGoldilocksï¼Œcsiidbï¼Œè¾¾æ¢¦æ•°æ®åº“ï¼Œè™šè°·æ•°æ®åº“ï¼Œäººå¤§é‡‘ä»“æ•°æ®åº“ï¼Œå—å¤§é€šç”¨(ååº“)æ•°æ®åº“ï¼Œå—å¤§é€šç”¨æ•°æ®åº“ï¼Œç¥é€šæ•°æ® åº“ï¼Œç€šé«˜æ•°æ®åº“</p><h3 id="å®˜ç½‘åœ°å€" tabindex="-1"><a class="header-anchor" href="#å®˜ç½‘åœ°å€"><span>å®˜ç½‘åœ°å€</span></a></h3><p>http://mp.baomidou.com</p><p>https://github.com/baomidou/mybatis-plus</p><p>https://gitee.com/baomidou/mybatis-plus</p><p>https://baomidou.com/pages/24112f</p><h2 id="_2-springbootåŸºæœ¬é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-springbootåŸºæœ¬é…ç½®"><span>2. springbootåŸºæœ¬é…ç½®</span></a></h2><p>ä½¿ç”¨Spring Initializråˆ›å»ºspringbootå·¥ç¨‹</p><p>å¼•å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="xml" data-title="xml" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-plus-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>ä½¿ç”¨lombokç®€åŒ–å®ä½“ç±»å¼€å‘</p><p>é…ç½®application.yml</p><div class="language-yaml line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="yml" data-title="yml" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token key atrule">spring</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token comment"># é…ç½®æ•°æ®æºä¿¡æ¯</span></span>
<span class="line">	<span class="token key atrule">datasource</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token comment"># é…ç½®æ•°æ®æºç±»å‹</span></span>
<span class="line">		<span class="token key atrule">type</span><span class="token punctuation">:</span> com.zaxxer.hikari.HikariDataSource</span>
<span class="line">		<span class="token comment"># é…ç½®è¿æ¥æ•°æ®åº“ä¿¡æ¯</span></span>
<span class="line">		<span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver</span>
<span class="line">		<span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mybatis_plus<span class="token punctuation">?</span>characterEncoding=utf8<span class="token important">&amp;useSSL=false</span></span>
<span class="line">		<span class="token key atrule">username</span><span class="token punctuation">:</span> root</span>
<span class="line">		<span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span></span>
<span class="line">		</span>
<span class="line">	<span class="token comment"># é…ç½®MyBatisæ—¥å¿—</span></span>
<span class="line">	<span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">configuration</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p><mark>æ³¨æ„ï¼š</mark></p><blockquote><ol><li>é©±åŠ¨ç±»driver-class-nameï¼ˆå¦åˆ™æœ‰warnè­¦å‘Šï¼‰ï¼š spring boot 2.0ï¼ˆå†…ç½®jdbc5é©±åŠ¨ï¼‰ï¼šdriver-class-name: com.mysql.jdbc.Driver spring boot 2.1åŠä»¥ä¸Šï¼ˆå†…ç½®jdbc8é©±åŠ¨ï¼‰ï¼šdriver-class-name: com.mysql.cj.jdbc.Driver</li><li>è¿æ¥åœ°å€urlï¼ˆå¦åˆ™æŠ›å¼‚å¸¸ï¼‰ï¼š MySQL5.7ç‰ˆæœ¬ï¼šjdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&amp;useSSL=false MySQL8.0ç‰ˆæœ¬ï¼šjdbc:mysql://localhost:3306/mybatis_plus? serverTimezone=GMT%2B8&amp;characterEncoding=utf- 8&amp;useSSL=false</li></ol></blockquote><p>springbootå¯åŠ¨ç±»ä¸Šæ·»åŠ </p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// è·¯å¾„ä¸­å¡«å†™çœŸå®è·¯å¾„</span>
<span class="line">@MapperScan(&quot;com.atguigu.mybatisplus.mapper&quot;) </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·mapperæ¥å£ä¸ç”¨åŠ @mapperæˆ–@Respositiveæ³¨è§£</p><blockquote><p>ä½†æ˜¯è¿˜æ˜¯åŠ äº†æ¯”è¾ƒå¥½ï¼Œé¿å…åœ¨å…¶ä»–åœ°æ–¹æ³¨å…¥æ—¶æ˜¾ç¤ºæŠ¥é”™ï¼Œå®é™…ä¸Šæ˜¯æ­£ç¡®çš„</p></blockquote><h2 id="_3-åŸºæœ¬crud" tabindex="-1"><a class="header-anchor" href="#_3-åŸºæœ¬crud"><span>3. åŸºæœ¬CRUD</span></a></h2><h3 id="basemapper" tabindex="-1"><a class="header-anchor" href="#basemapper"><span>BaseMapper</span></a></h3><p>MyBatis-Plusä¸­çš„åŸºæœ¬CRUDåœ¨å†…ç½®çš„BaseMapperä¸­éƒ½å·²å¾—åˆ°äº†å®ç°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">public interface XxxMapper extends BaseMapper&lt;å®ä½“ç±»&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="å¢" tabindex="-1"><a class="header-anchor" href="#å¢"><span>å¢</span></a></h4><blockquote><p>// insert into user ( id, name...... ) VALUES ( ?, ?........) int result = userMapper.<mark>insert</mark>(user);</p></blockquote><ul><li>è¿”å›å—å½±å“è¡Œæ•°</li><li>æœ‰å‚idä¼ å…¥nullï¼ŒMyBatis-Plusåœ¨å®ç°æ’å…¥æ•°æ®æ—¶ï¼Œä¼šé»˜è®¤åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆid</li></ul><h4 id="åˆ " tabindex="-1"><a class="header-anchor" href="#åˆ "><span>åˆ </span></a></h4><blockquote><ol><li><p>é€šè¿‡idåˆ é™¤è®°å½• // DELETE FROM user WHERE id=? int result = userMapper.<mark>deleteById</mark>(1475754982694199298L);</p></li><li><p>é€šè¿‡idæ‰¹é‡åˆ é™¤è®°å½•</p><p>// DELETE FROM user WHERE id IN ( ? , ? , ? ) int result = userMapper.<mark>deleteBatchIds</mark>(idList);</p></li><li><p>é€šè¿‡mapæ¡ä»¶åˆ é™¤è®°å½•</p><p>// DELETE FROM user WHERE name = ? AND age = ? int result = userMapper.<mark>deleteByMap</mark>(map);</p></li></ol></blockquote><ul><li>åœ¨mapä¸­ï¼Œæ ¹æ®mapçš„keyä½œä¸ºwhereçš„æ¡ä»¶</li></ul><h4 id="æ”¹" tabindex="-1"><a class="header-anchor" href="#æ”¹"><span>æ”¹</span></a></h4><blockquote><p>// UPDATE user SET name=?, age=? WHERE id=? int result = userMapper.<mark>updateById</mark>(user);</p></blockquote><ul><li>ä¸ä¼šä¿®æ”¹æœªè®¾ç½®å±æ€§çš„å€¼</li></ul><h4 id="æŸ¥" tabindex="-1"><a class="header-anchor" href="#æŸ¥"><span>æŸ¥</span></a></h4><blockquote><ol><li>æ ¹æ®idæŸ¥ // SELECT id,name,age,email FROM user WHERE id=? User user = userMapper.<mark>selectById</mark>(4L);</li><li>æ ¹æ®å¤šä¸ªidæŸ¥ // SELECT id,name,age,email FROM user WHERE id IN ( ? , ? ) List list = userMapper.<mark>selectBatchIds</mark>(idList);</li><li>é€šè¿‡mapæ¡ä»¶æŸ¥ // SELECT id,name,age,email FROM user WHERE name = ? AND age = ? List list = userMapper.<mark>selectByMap</mark>(map);</li><li>æŸ¥è¯¢æ‰€æœ‰æ•°æ® // SELECT id,name,age,email FROM user List list = userMapper.<mark>selectList</mark>(null);</li></ol></blockquote><h4 id="è‡ªå®šä¹‰åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰åŠŸèƒ½"><span>è‡ªå®šä¹‰åŠŸèƒ½</span></a></h4><p>é€šè¿‡Mybatis-Plusçš„mapper-locationsé…ç½®æ˜ å°„æ–‡ä»¶è·¯å¾„ï¼ˆéœ€è¦è‡ªå®šä¹‰è·¯å¾„æ‰é…ç½®ï¼Œå¦åˆ™ç”¨é»˜è®¤çš„ä¸ç”¨é…ç½®ï¼‰</p><p>é»˜è®¤åœ¨ä»»æ„ç›®å½•mapperä¸‹ä»»æ„ç›®å½•çš„xml</p><p>è¿™æ ·å¯ä»¥é€šè¿‡è‡ªå·±å†™çš„sqlå®ç°è‡ªå·±çš„åŠŸèƒ½</p><p><strong>æ³¨æ„ï¼š</strong> BaseMapperä¸­çš„æ–¹æ³•ï¼Œå¤§å¤šæ–¹æ³•ä¸­éƒ½æœ‰Wrapperç±»å‹çš„å½¢å‚ï¼Œæ­¤ä¸ºæ¡ä»¶æ„é€ å™¨ï¼Œå¯é’ˆ å¯¹äºSQLè¯­å¥è®¾ç½®ä¸åŒçš„æ¡ä»¶ï¼Œè‹¥æ²¡æœ‰æ¡ä»¶ï¼Œåˆ™å¯ä»¥ä¸ºè¯¥å½¢å‚èµ‹å€¼nullï¼Œå³æŸ¥è¯¢ï¼ˆåˆ é™¤/ä¿®æ”¹ï¼‰æ‰€æœ‰æ•°æ®</p><h3 id="service" tabindex="-1"><a class="header-anchor" href="#service"><span>Service</span></a></h3><p>serviceæ¥å£ä¸­ç»§æ‰¿Iservice</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">public interface UserService extends IService&lt;å®ä½“ç±»&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>serviceç»§æ‰¿äº†IServiceï¼Œæ‰€ä»¥å®ç°äº†serviceæ¥å£æ—¶ï¼Œéœ€è¦é‡å†™IServiceçš„æ‰€æœ‰æ–¹æ³•ï¼Œä¸ºäº†ä¸è‡ªå·±é‡å†™ï¼Œç»§æ‰¿åŒ…å«é‡å†™æ–¹æ³•çš„ServiceImpl</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">public class UserServiceImpl extends ServiceImpl&lt;XxxMapper, å®ä½“ç±»&gt; implements UserService</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä½¿ç”¨Mybatis-Plusçš„Serviceæ—¶æœ€å¥½è‡ªå·±åˆ›å»ºä¸€ä¸ªserviceï¼Œè¿™æ ·æ—¢å¯ä»¥ä½¿ç”¨MPä¸­serviceçš„åŠŸèƒ½ï¼Œä¹Ÿèƒ½ä½¿ç”¨è‡ªå®šä¹‰çš„åŠŸèƒ½</p><h4 id="æŸ¥è¯¢è®°å½•æ•°" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢è®°å½•æ•°"><span>æŸ¥è¯¢è®°å½•æ•°</span></a></h4><blockquote><p>// select count(*) from user long count = userService.count();</p></blockquote><h4 id="æ‰¹é‡æ’å…¥" tabindex="-1"><a class="header-anchor" href="#æ‰¹é‡æ’å…¥"><span>æ‰¹é‡æ’å…¥</span></a></h4><blockquote><p>// SQL:INSERT INTO t_user ( username, age ) VALUES ( ?, ? ) å¹¶éçœŸæ­£çš„æ‰¹é‡å¢åŠ ï¼Œè€Œæ˜¯é€šè¿‡å•æ¡æ·»åŠ çš„sqlé‡å¤æ‰§è¡Œå®ç° userService.saveBatch(users);</p></blockquote><h2 id="_4-æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_4-æ³¨è§£"><span>4. æ³¨è§£</span></a></h2><h3 id="tablename" tabindex="-1"><a class="header-anchor" href="#tablename"><span>@TableName</span></a></h3><p>MyBatis-Plusåœ¨ç¡®å®šæ“ä½œçš„è¡¨æ—¶ï¼Œç”±BaseMapperçš„æ³›å‹å†³å®šï¼Œé»˜è®¤æ“ä½œçš„è¡¨åå’Œå®ä½“ç±»å‹é¦–å­—æ¯è½¬å°å†™çš„ç±»åä¸€è‡´</p><p>æˆ‘ä»¬å°†è¡¨useræ›´åä¸ºt_user</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">@TableName(&quot;t_user&quot;)</span>
<span class="line">public class User {</span>
<span class="line">  // å®ä½“ç±»å±æ€§</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå¯ä»¥è¿›è¡Œå…¨å±€é…ç½®</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">configuration</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token comment"># é…ç½®MyBatisæ—¥å¿—</span></span>
<span class="line">		<span class="token key atrule">log-impl</span><span class="token punctuation">:</span> org.apache.ibatis.logging.stdout.StdOutImpl</span>
<span class="line">	<span class="token key atrule">global-config</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">db-config</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token comment"># é…ç½®MyBatis-Plusæ“ä½œè¡¨çš„é»˜è®¤å‰ç¼€</span></span>
<span class="line">			<span class="token key atrule">table-prefix</span><span class="token punctuation">:</span> t_</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºå®ä½“ç±»æ‰€å¯¹åº”çš„è¡¨åè®¾ç½®é»˜è®¤çš„å‰ç¼€ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦åœ¨æ¯ä¸ªå®ä½“ç±»ä¸Šé€šè¿‡@TableNameæ ‡è¯†å®ä½“ç±»å¯¹åº”çš„è¡¨</p><h3 id="tableid" tabindex="-1"><a class="header-anchor" href="#tableid"><span>@TableId</span></a></h3><p>è‹¥å®ä½“ç±»å’Œè¡¨ä¸­è¡¨ç¤ºä¸»é”®çš„ä¸æ˜¯idï¼Œè€Œæ˜¯å…¶ä»–å­—æ®µï¼Œä¾‹å¦‚uid</p><p>éœ€è¦åœ¨å®ä½“ç±»ä¸­uidå±æ€§ä¸Šé€šè¿‡@TableIdå°†å…¶æ ‡è¯†ä¸ºä¸»é”®</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token annotation punctuation">@TableId</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">&quot;uid&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token class-name">IdType</span><span class="token punctuation">.</span><span class="token constant">AUTO</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Long</span> uid</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>valueåœ¨å•å­—æ®µå¯ä»¥çœç•¥å†™æˆ@TableId(&quot;uid&quot;)</p><p>ä¹Ÿå¯ä»¥å…¨å±€é…ç½®</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">global-config</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">db-config</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token comment"># é…ç½®MyBatis-Plusæ“ä½œè¡¨çš„é»˜è®¤å‰ç¼€</span></span>
<span class="line">			<span class="token key atrule">table-prefix</span><span class="token punctuation">:</span> t_</span>
<span class="line">			<span class="token comment"># é…ç½®MyBatis-Plusçš„ä¸»é”®ç­–ç•¥</span></span>
<span class="line">			<span class="token key atrule">id-type</span><span class="token punctuation">:</span> auto</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>å€¼</th><th>æè¿°</th></tr></thead><tbody><tr><td>IdType.ASSIGN_IDï¼ˆé»˜ è®¤ï¼‰</td><td>åŸºäºé›ªèŠ±ç®—æ³•çš„ç­–ç•¥ç”Ÿæˆæ•°æ®idï¼Œä¸æ•°æ®åº“idæ˜¯å¦è®¾ç½®è‡ªå¢æ— å…³</td></tr><tr><td>IdType.AUTO</td><td>ä½¿ç”¨æ•°æ®åº“çš„è‡ªå¢ç­–ç•¥ï¼Œæ³¨æ„ï¼Œè¯¥ç±»å‹è¯·ç¡®ä¿æ•°æ®åº“è®¾ç½®äº†idè‡ªå¢ï¼Œ å¦åˆ™æ— æ•ˆ</td></tr></tbody></table><h4 id="é›ªèŠ±ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#é›ªèŠ±ç®—æ³•"><span>é›ªèŠ±ç®—æ³•</span></a></h4><blockquote><p>é›ªèŠ±ç®—æ³•æ˜¯ç”±Twitterå…¬å¸ƒçš„åˆ†å¸ƒå¼ä¸»é”®ç”Ÿæˆç®—æ³•ï¼Œå®ƒèƒ½å¤Ÿä¿è¯ä¸åŒè¡¨çš„ä¸»é”®çš„ä¸é‡å¤æ€§ï¼Œä»¥åŠç›¸åŒè¡¨çš„ ä¸»é”®çš„æœ‰åºæ€§ã€‚</p></blockquote><p>ä¼˜ç‚¹ï¼šæ•´ä½“ä¸ŠæŒ‰ç…§æ—¶é—´è‡ªå¢æ’åºï¼Œå¹¶ä¸”æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿå†…ä¸ä¼šäº§ç”ŸIDç¢°æ’ï¼Œå¹¶ä¸”æ•ˆç‡è¾ƒé«˜</p><p>æ ¸å¿ƒæ€æƒ³ï¼š</p><p>é•¿åº¦å…±64bitï¼ˆä¸€ä¸ªlongå‹ï¼‰</p><ul><li>é¦–å…ˆæ˜¯ä¸€ä¸ªç¬¦å·ä½ï¼Œ1bitæ ‡è¯†ï¼Œç”±äºlongåŸºæœ¬ç±»å‹åœ¨Javaä¸­æ˜¯å¸¦ç¬¦å·çš„ï¼Œæœ€é«˜ä½æ˜¯ç¬¦å·ä½ï¼Œæ­£æ•°æ˜¯0ï¼Œè´Ÿ æ•°æ˜¯1ï¼Œæ‰€ä»¥idä¸€èˆ¬æ˜¯æ­£æ•°ï¼Œæœ€é«˜ä½æ˜¯0ã€‚</li><li>41bitæ—¶é—´æˆª(æ¯«ç§’çº§)ï¼Œå­˜å‚¨çš„æ˜¯æ—¶é—´æˆªçš„å·®å€¼ï¼ˆå½“å‰æ—¶é—´æˆª - å¼€å§‹æ—¶é—´æˆª)ï¼Œç»“æœçº¦ç­‰äº69.73å¹´ã€‚</li><li>10bitä½œä¸ºæœºå™¨çš„IDï¼ˆ5ä¸ªbitæ˜¯æ•°æ®ä¸­å¿ƒï¼Œ5ä¸ªbitçš„æœºå™¨IDï¼Œå¯ä»¥éƒ¨ç½²åœ¨1024ä¸ªèŠ‚ç‚¹ï¼‰ã€‚</li><li>12bitä½œä¸ºæ¯«ç§’å†…çš„æµæ°´å·ï¼ˆæ„å‘³ç€æ¯ä¸ªèŠ‚ç‚¹åœ¨æ¯æ¯«ç§’å¯ä»¥äº§ç”Ÿ 4096 ä¸ª IDï¼‰ã€‚</li></ul><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241019090027070.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="tablefield" tabindex="-1"><a class="header-anchor" href="#tablefield"><span>@TableField</span></a></h3><p>MyBatis-Plusåœ¨æ‰§è¡ŒSQLè¯­å¥æ—¶ï¼Œè¦ä¿è¯å®ä½“ç±»ä¸­çš„å±æ€§åå’Œ è¡¨ä¸­çš„å­—æ®µåä¸€è‡´</p><h4 id="é©¼å³°" tabindex="-1"><a class="header-anchor" href="#é©¼å³°"><span>é©¼å³°</span></a></h4><p>ä¾‹å¦‚å®ä½“ç±»å±æ€§userNameï¼Œè¡¨ä¸­å­—æ®µuser_name</p><p>æ­¤æ—¶MyBatis-Plusä¼šè‡ªåŠ¨å°†ä¸‹åˆ’çº¿å‘½åé£æ ¼è½¬åŒ–ä¸ºé©¼å³°å‘½åé£æ ¼</p><h4 id="å­—æ®µä¸å¯¹åº”" tabindex="-1"><a class="header-anchor" href="#å­—æ®µä¸å¯¹åº”"><span>å­—æ®µä¸å¯¹åº”</span></a></h4><p>ä¾‹å¦‚å®ä½“ç±»å±æ€§nameï¼Œè¡¨ä¸­å­—æ®µusername</p><p>ä½¿ç”¨@TableField(&quot;username&quot;)æ³¨è§£</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token annotation punctuation">@TableField</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="tablelogic" tabindex="-1"><a class="header-anchor" href="#tablelogic"><span>@TableLogic</span></a></h3><ul><li>ç‰©ç†åˆ é™¤ï¼šçœŸå®åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä»æ•°æ®åº“ä¸­åˆ é™¤ï¼Œä¹‹åæŸ¥è¯¢ä¸åˆ°æ­¤æ¡è¢«åˆ é™¤çš„æ•°æ®</li><li>é€»è¾‘åˆ é™¤ï¼šå‡åˆ é™¤ï¼Œå°†å¯¹åº”æ•°æ®ä¸­ä»£è¡¨æ˜¯å¦è¢«åˆ é™¤å­—æ®µçš„çŠ¶æ€ä¿®æ”¹ä¸ºâ€œè¢«åˆ é™¤çŠ¶æ€â€ï¼Œä¹‹ååœ¨æ•°æ®åº“ ä¸­ä»æ—§èƒ½çœ‹åˆ°æ­¤æ¡æ•°æ®è®°å½•</li></ul><blockquote><p>step1ï¼šæ•°æ®åº“ä¸­åˆ›å»ºé€»è¾‘åˆ é™¤çŠ¶æ€åˆ—ï¼Œè®¾ç½®é»˜è®¤å€¼ä¸º0</p><p>step2ï¼šå®ä½“ç±»ä¸­æ·»åŠ é€»è¾‘åˆ é™¤å±æ€§</p></blockquote><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token annotation punctuation">@TableLogic</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Integer</span> isDeleted<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•<mark>åˆ é™¤</mark>åŠŸèƒ½ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ˜¯ä¿®æ”¹ UPDATE t_user SET is_deleted=1 WHERE id=? AND is_deleted=0</p><p>æµ‹è¯•<mark>æŸ¥è¯¢</mark>åŠŸèƒ½ï¼Œè¢«é€»è¾‘åˆ é™¤çš„æ•°æ®é»˜è®¤ä¸ä¼šè¢«æŸ¥è¯¢ SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0</p><h2 id="_5-æ¡ä»¶æ„é€ å™¨" tabindex="-1"><a class="header-anchor" href="#_5-æ¡ä»¶æ„é€ å™¨"><span>5. æ¡ä»¶æ„é€ å™¨</span></a></h2><h3 id="ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ç»“æ„"><span>ç»“æ„</span></a></h3><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241019095412412.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="querywrapper" tabindex="-1"><a class="header-anchor" href="#querywrapper"><span>QueryWrapper</span></a></h3><h4 id="ç»„è£…æŸ¥è¯¢æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç»„è£…æŸ¥è¯¢æ¡ä»¶"><span>ç»„è£…æŸ¥è¯¢æ¡ä»¶</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//æŸ¥è¯¢ç”¨æˆ·ååŒ…å«aï¼Œå¹´é¾„åœ¨20åˆ°30ä¹‹é—´ï¼Œå¹¶ä¸”é‚®ç®±ä¸ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯</span></span>
<span class="line">	<span class="token comment">//SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">between</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">isNotNull</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="ç»„è£…æ’åºæ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç»„è£…æ’åºæ¡ä»¶"><span>ç»„è£…æ’åºæ¡ä»¶</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//æŒ‰å¹´é¾„é™åºæŸ¥è¯¢ç”¨æˆ·ï¼Œå¦‚æœå¹´é¾„ç›¸åŒåˆ™æŒ‰idå‡åºæ’åˆ—</span></span>
<span class="line">	<span class="token comment">//SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">orderByDesc</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span></span>
<span class="line"> 				<span class="token punctuation">.</span><span class="token function">orderByAsc</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	users<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="ç»„è£…åˆ é™¤æ¡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç»„è£…åˆ é™¤æ¡ä»¶"><span>ç»„è£…åˆ é™¤æ¡ä»¶</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test03</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//åˆ é™¤emailä¸ºç©ºçš„ç”¨æˆ·</span></span>
<span class="line">	<span class="token comment">//DELETE FROM t_user WHERE (email IS NULL)</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//æ¡ä»¶æ„é€ å™¨ä¹Ÿå¯ä»¥æ„å»ºåˆ é™¤è¯­å¥çš„æ¡ä»¶</span></span>
<span class="line">	<span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="æ¡ä»¶çš„ä¼˜å…ˆçº§" tabindex="-1"><a class="header-anchor" href="#æ¡ä»¶çš„ä¼˜å…ˆçº§"><span>æ¡ä»¶çš„ä¼˜å…ˆçº§</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//å°†ï¼ˆå¹´é¾„å¤§äº20å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰aï¼‰æˆ–é‚®ç®±ä¸ºnullçš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span>
<span class="line">	<span class="token comment">//UPDATE t_user SET age=?, email=? WHERE (username LIKE ? AND age &gt; ? OR email IS NULL)</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;user@atguigu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//å°†ç”¨æˆ·åä¸­åŒ…å«æœ‰aå¹¶ä¸”ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰çš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span>
<span class="line">	<span class="token comment">//UPDATE t_user SET age=?, email=? WHERE (username LIKE ? AND (age &gt; ? OR email IS NULL))</span></span>
<span class="line">	<span class="token comment">//lambdaè¡¨è¾¾å¼å†…çš„é€»è¾‘ä¼˜å…ˆè¿ç®—</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;user@atguigu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="ç»„è£…selectå­å¥" tabindex="-1"><a class="header-anchor" href="#ç»„è£…selectå­å¥"><span>ç»„è£…selectå­å¥</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test05</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„usernameå’Œageå­—æ®µ</span></span>
<span class="line">	<span class="token comment">//SELECT username,age FROM t_user</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//selectMaps()è¿”å›Mapé›†åˆåˆ—è¡¨ï¼Œé€šå¸¸é…åˆselect()ä½¿ç”¨ï¼Œé¿å…Userå¯¹è±¡ä¸­æ²¡æœ‰è¢«æŸ¥è¯¢åˆ°çš„åˆ—å€¼ä¸ºnull</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> maps <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectMaps</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	maps<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="å®ç°å­æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#å®ç°å­æŸ¥è¯¢"><span>å®ç°å­æŸ¥è¯¢</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test06</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//æŸ¥è¯¢idå°äºç­‰äº3çš„ç”¨æˆ·ä¿¡æ¯</span></span>
<span class="line">	<span class="token comment">//SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE (id IN(select id from t_user where id &lt;= 3))</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">inSql</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;select id from t_user where id &lt;= 3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="updatewrapper" tabindex="-1"><a class="header-anchor" href="#updatewrapper"><span>UpdateWrapper</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test07</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//å°†ï¼ˆå¹´é¾„å¤§äº20æˆ–é‚®ç®±ä¸ºnullï¼‰å¹¶ä¸”ç”¨æˆ·åä¸­åŒ…å«æœ‰açš„ç”¨æˆ·ä¿¡æ¯ä¿®æ”¹</span></span>
<span class="line">	<span class="token comment">//ç»„è£…setå­å¥ä»¥åŠä¿®æ”¹æ¡ä»¶</span></span>
<span class="line">	<span class="token class-name">UpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> updateWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//lambdaè¡¨è¾¾å¼å†…çš„é€»è¾‘ä¼˜å…ˆè¿ç®—</span></span>
<span class="line">	updateWrapper<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;user@atguigu.com&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i<span class="token punctuation">.</span><span class="token function">gt</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token string">&quot;email&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//è¿™é‡Œå¿…é¡»è¦åˆ›å»ºUserå¯¹è±¡ï¼Œå¦åˆ™æ— æ³•åº”ç”¨è‡ªåŠ¨å¡«å……ã€‚å¦‚æœæ²¡æœ‰è‡ªåŠ¨å¡«å……ï¼Œå¯ä»¥è®¾ç½®ä¸ºnull</span></span>
<span class="line">	<span class="token comment">//UPDATE t_user SET username=?, age=?,email=? WHERE (username LIKE ? AND(age &gt; ? OR email IS NULL))</span></span>
<span class="line">	<span class="token comment">//User user = new User();</span></span>
<span class="line">	<span class="token comment">//user.setName(&quot;å¼ ä¸‰&quot;);</span></span>
<span class="line">	<span class="token comment">//int result = userMapper.update(user, updateWrapper);</span></span>
<span class="line">	<span class="token comment">//UPDATE t_user SET age=?,email=? WHERE (username LIKE ? AND (age &gt; ? OR email IS NULL))</span></span>
<span class="line">	<span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> updateWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="condition" tabindex="-1"><a class="header-anchor" href="#condition"><span>condition</span></a></h3><blockquote><p>æ¡ä»¶æ•°æ®æ¥æºäºç”¨æˆ·è¾“å…¥ï¼Œåœ¨ç»„è£…æ¡ä»¶æ—¶ï¼Œå¿…é¡»å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦é€‰æ‹©äº†è¿™äº›æ¡ä»¶ï¼Œè‹¥æ²¡æœ‰é€‰æ‹©åˆ™ä¸€å®šä¸èƒ½ç»„è£…ï¼Œä»¥å…å½±å“SQLæ‰§è¡Œçš„ç»“æœ</p></blockquote><h4 id="åŸå§‹æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#åŸå§‹æ–¹æ³•"><span>åŸå§‹æ–¹æ³•</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test08</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnullï¼ˆç”¨æˆ·æœªè¾“å…¥æˆ–æœªé€‰æ‹©ï¼‰</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageBegin <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageEnd <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//StringUtils.isNotBlank()åˆ¤æ–­æŸå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºä¸”é•¿åº¦ä¸ä¸º0ä¸”ä¸ç”±ç©ºç™½ç¬¦(whitespace)æ„æˆ</span></span>
<span class="line">	<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">		queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span><span class="token punctuation">(</span>ageBegin <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">		queryWrapper<span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> ageBegin<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">if</span><span class="token punctuation">(</span>ageEnd <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">		queryWrapper<span class="token punctuation">.</span><span class="token function">le</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> ageEnd<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token comment">//SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE (age &gt;= ? AND age &lt;= ?)</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	users<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h4 id="æ”¹è¿›æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#æ”¹è¿›æ–¹æ³•"><span>æ”¹è¿›æ–¹æ³•</span></a></h4><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test08UseCondition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnullï¼ˆç”¨æˆ·æœªè¾“å…¥æˆ–æœªé€‰æ‹©ï¼‰</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageBegin <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageEnd <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//StringUtils.isNotBlank()åˆ¤æ–­æŸå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸ºç©ºä¸”é•¿åº¦ä¸ä¸º0ä¸”ä¸ç”±ç©ºç™½ç¬¦(whitespace)æ„æˆ</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line">    			<span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span>ageBegin <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> ageBegin<span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">le</span><span class="token punctuation">(</span>ageEnd <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> ageEnd<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//SELECT id,username AS name,age,email,is_deleted FROM t_user WHERE (age &gt;= ? AND age &lt;= ?)</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	users<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="lambdaquerywrapper" tabindex="-1"><a class="header-anchor" href="#lambdaquerywrapper"><span>LambdaQueryWrapper</span></a></h3><blockquote><p>lambdaçš„ä½¿ç”¨é¿å…è‡ªå·±å†™é”™å­—æ®µå</p></blockquote><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test09</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//å®šä¹‰æŸ¥è¯¢æ¡ä»¶ï¼Œæœ‰å¯èƒ½ä¸ºnullï¼ˆç”¨æˆ·æœªè¾“å…¥ï¼‰</span></span>
<span class="line">	<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageBegin <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">Integer</span> ageEnd <span class="token operator">=</span> <span class="token number">24</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> queryWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaQueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//é¿å…ä½¿ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºå­—æ®µï¼Œé˜²æ­¢è¿è¡Œæ—¶é”™è¯¯</span></span>
<span class="line">	queryWrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isNotBlank</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">,</span> username<span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span>ageBegin <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> ageBegin<span class="token punctuation">)</span></span>
<span class="line">				<span class="token punctuation">.</span><span class="token function">le</span><span class="token punctuation">(</span>ageEnd <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> ageEnd<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">selectList</span><span class="token punctuation">(</span>queryWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	users<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h3 id="lambdaupdatewrapper" tabindex="-1"><a class="header-anchor" href="#lambdaupdatewrapper"><span>LambdaUpdateWrapper</span></a></h3><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test10</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//ç»„è£…setå­å¥</span></span>
<span class="line">	<span class="token class-name">LambdaUpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> updateWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LambdaUpdateWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	updateWrapper<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span></span>
<span class="line">				 <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getEmail</span><span class="token punctuation">,</span> <span class="token string">&quot;user@atguigu.com&quot;</span><span class="token punctuation">)</span></span>
<span class="line">				 <span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span></span>
<span class="line"> 				 <span class="token punctuation">.</span><span class="token function">and</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i<span class="token punctuation">.</span><span class="token function">lt</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">or</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isNull</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getEmail</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token comment">//lambdaè¡¨è¾¾å¼å†…çš„é€»è¾‘ä¼˜å…ˆè¿ç®—</span></span>
<span class="line">	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">int</span> result <span class="token operator">=</span> userMapper<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">,</span> updateWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å—å½±å“çš„è¡Œæ•°ï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_6-æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#_6-æ’ä»¶"><span>6. æ’ä»¶</span></a></h2><h3 id="åˆ†é¡µæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#åˆ†é¡µæ’ä»¶"><span>åˆ†é¡µæ’ä»¶</span></a></h3><blockquote><p>MyBatis Plusè‡ªå¸¦åˆ†é¡µæ’ä»¶ï¼Œåªè¦ç®€å•çš„é…ç½®å³å¯å®ç°åˆ†é¡µåŠŸèƒ½</p></blockquote><h4 id="åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨"><span>åŸºæœ¬ä½¿ç”¨</span></a></h4><p>æ·»åŠ é…ç½®ç±»</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.atguigu.mybatisplus.mapper&quot;</span><span class="token punctuation">)</span> <span class="token comment">// å¦‚æœæœ‰MPçš„é…ç½®ç±»å¯ä»¥å°†å¯åŠ¨ç±»ä¸­çš„æ³¨è§£ç§»åˆ°æ­¤å¤„</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisPlusConfig</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token annotation punctuation">@Bean</span></span>
<span class="line">	<span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token class-name">MybatisPlusInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token comment">//æ·»åŠ åˆ†é¡µæ’ä»¶</span></span>
<span class="line">		interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PaginationInnerInterceptor</span><span class="token punctuation">(</span><span class="token class-name">DbType</span><span class="token punctuation">.</span><span class="token constant">MYSQL</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token keyword">return</span> interceptor<span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>æµ‹è¯•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//è®¾ç½®åˆ†é¡µå‚æ•°</span></span>
<span class="line">	<span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	userMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//è·å–åˆ†é¡µæ•°æ®</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>æ–¹æ³•</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td>getCurrent()</td><td>å½“å‰é¡µ</td></tr><tr><td>getSize()</td><td>æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</td></tr><tr><td>getTotal()</td><td>æ€»è®°å½•æ•°</td></tr><tr><td>getPages()</td><td>æ€»é¡µæ•°</td></tr><tr><td>hasPrevious()</td><td>æ˜¯å¦æœ‰ä¸Šä¸€é¡µ</td></tr><tr><td>page.hasNext()</td><td>æ˜¯å¦æœ‰ä¸‹ä¸€é¡µ</td></tr></tbody></table><h4 id="è‡ªå®šä¹‰åˆ†é¡µ" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰åˆ†é¡µ"><span>è‡ªå®šä¹‰åˆ†é¡µ</span></a></h4><p>UserMapperä¸­å®šä¹‰æ¥å£æ–¹æ³•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">selectPageVo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;page&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> page<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>UserMapper.xmlä¸­ç¼–å†™SQL</p><blockquote><p>é¦–å…ˆè®¾ç½®ç±»å‹åˆ«å (é»˜è®¤æ ¹æ®è·¯å¾„çš„ç±»åæ˜ å°„ä¸”<mark>ä¸åŒºåˆ†å¤§å°å†™</mark>) è¿™æ ·pojoä¸‹æœ‰Userå®ä½“ç±»ï¼ŒresultTypeä¸­ä¸ç”¨å†™å®ä½“ç±»çš„è·¯å¾„</p></blockquote><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">configuration</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">global-config</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token comment">#é…ç½®ç±»å‹åˆ«åæ‰€å¯¹åº”çš„åŒ…</span></span>
<span class="line">	<span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.atguigu.mybatisplus.pojo</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">&lt;!--SQLç‰‡æ®µï¼Œè®°å½•åŸºç¡€å­—æ®µ--&gt;</span>
<span class="line">&lt;sql id=&quot;BaseColumns&quot;&gt;id,username,age,email&lt;/sql&gt;</span>
<span class="line"></span>
<span class="line">&lt;!--IPage&lt;User&gt; selectPageVo(Page&lt;User&gt; page, Integer age);--&gt;</span>
<span class="line">&lt;select id=&quot;selectPageVo&quot; resultType=&quot;User&quot;&gt;</span>
<span class="line">	SELECT &lt;include refid=&quot;BaseColumns&quot;&gt;&lt;/include&gt; FROM t_user WHERE age &gt; #{age}</span>
<span class="line">&lt;/select&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectPageVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//è®¾ç½®åˆ†é¡µå‚æ•°</span></span>
<span class="line">	<span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	userMapper<span class="token punctuation">.</span><span class="token function">selectPageVo</span><span class="token punctuation">(</span>page<span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//è·å–åˆ†é¡µæ•°æ®</span></span>
<span class="line">	<span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ä¹è§‚é”æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#ä¹è§‚é”æ’ä»¶"><span>ä¹è§‚é”æ’ä»¶</span></a></h3><h4 id="ä¹è§‚é”ä¸æ‚²è§‚é”" tabindex="-1"><a class="header-anchor" href="#ä¹è§‚é”ä¸æ‚²è§‚é”"><span>ä¹è§‚é”ä¸æ‚²è§‚é”</span></a></h4><blockquote><p>ä¹è§‚é”ï¼šä¿®æ”¹å­—æ®µå‰ï¼Œä¼šæ£€æŸ¥ä¸‹å­—æ®µæ˜¯å¦è¢«äººä¿®æ”¹è¿‡äº†ã€‚å¦‚æœè¢«ä¿®æ”¹è¿‡ï¼Œåˆ™é‡æ–°å–å‡ºçš„è¢«ä¿®æ”¹åçš„å­—æ®µ</p><p>æ‚²è§‚é”ï¼šæ•°æ®è¢«å–å‡ºåï¼Œåªèƒ½ç­‰åˆ«äººæ“ä½œå®Œä¹‹åï¼Œæ‰èƒ½å¯¹æ•°æ®è¿›è¡Œæ“ä½œ</p></blockquote><h4 id="ä¹è§‚é”å®ç°æµç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¹è§‚é”å®ç°æµç¨‹"><span>ä¹è§‚é”å®ç°æµç¨‹</span></a></h4><ul><li><p>å–å‡ºè®°å½•æ—¶ï¼Œè·å–å½“å‰version</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">SELECT id,&#39;name&#39;,price,&#39;version&#39; FROM product WHERE id=1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>æ›´æ–°æ—¶ï¼Œversion + 1ï¼Œå¦‚æœwhereè¯­å¥ä¸­çš„versionç‰ˆæœ¬ä¸å¯¹ï¼Œåˆ™æ›´æ–°å¤±è´¥</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">UPDATE product SET price=price+50, &#39;version&#39;=&#39;version&#39; + 1 WHERE id=1 AND &#39;version&#39;=1</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h4 id="åŸºæœ¬ä½¿ç”¨-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨-1"><span>åŸºæœ¬ä½¿ç”¨</span></a></h4><p>æ·»åŠ ä¹è§‚é”æ’ä»¶é…ç½®</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Configuration</span></span>
<span class="line"><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.atguigu.mybatisplus.mapper&quot;</span><span class="token punctuation">)</span> <span class="token comment">// å¦‚æœæœ‰MPçš„é…ç½®ç±»å¯ä»¥å°†å¯åŠ¨ç±»ä¸­çš„æ³¨è§£ç§»åˆ°æ­¤å¤„</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisPlusConfig</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token annotation punctuation">@Bean</span></span>
<span class="line">	<span class="token keyword">public</span> <span class="token class-name">MybatisPlusInterceptor</span> <span class="token function">mybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token class-name">MybatisPlusInterceptor</span> interceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MybatisPlusInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token comment">//æ·»åŠ ä¹è§‚é”æ’ä»¶</span></span>
<span class="line">		interceptor<span class="token punctuation">.</span><span class="token function">addInnerInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OptimisticLockerInnerInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		<span class="token keyword">return</span> interceptor<span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>æ·»åŠ @Versionæ³¨è§£</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Data</span></span>
<span class="line">	<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Product</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Integer</span> price<span class="token punctuation">;</span></span>
<span class="line">    <span class="token annotation punctuation">@Version</span>    </span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Integer</span> version<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ mapper</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ProductMapper</span> <span class="token keyword">extends</span> <span class="token class-name">BaseMapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testConcurrentVersionUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">//å°æå–æ•°æ®</span></span>
<span class="line">	<span class="token class-name">Product</span> p1 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//å°ç‹å–æ•°æ®</span></span>
<span class="line">	<span class="token class-name">Product</span> p2 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token comment">//å°æä¿®æ”¹ + 50</span></span>
<span class="line">	p1<span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">int</span> result1 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°æä¿®æ”¹çš„ç»“æœï¼š&quot;</span> <span class="token operator">+</span> result1<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token comment">//å°ç‹ä¿®æ”¹ - 30</span></span>
<span class="line">	p2<span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">int</span> result2 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°ç‹ä¿®æ”¹çš„ç»“æœï¼š&quot;</span> <span class="token operator">+</span> result2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">if</span><span class="token punctuation">(</span>result2 <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">//å¤±è´¥é‡è¯•ï¼Œé‡æ–°è·å–versionå¹¶æ›´æ–°</span></span>
<span class="line">		p2 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		p2<span class="token punctuation">.</span><span class="token function">setPrice</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">		result2 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">updateById</span><span class="token punctuation">(</span>p2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å°ç‹ä¿®æ”¹é‡è¯•çš„ç»“æœï¼š&quot;</span> <span class="token operator">+</span> result2<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token comment">//è€æ¿çœ‹ä»·æ ¼</span></span>
<span class="line">	<span class="token class-name">Product</span> p3 <span class="token operator">=</span> productMapper<span class="token punctuation">.</span><span class="token function">selectById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€æ¿çœ‹ä»·æ ¼ï¼š&quot;</span> <span class="token operator">+</span> p3<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_7-é€šç”¨æšä¸¾" tabindex="-1"><a class="header-anchor" href="#_7-é€šç”¨æšä¸¾"><span>7. é€šç”¨æšä¸¾</span></a></h2><blockquote><p>è¡¨ä¸­çš„æœ‰äº›å­—æ®µå€¼æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚æ€§åˆ«ï¼ˆç”·æˆ–å¥³ï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyBatis-Plusçš„é€šç”¨æšä¸¾æ¥å®ç°</p></blockquote><h3 id="åŸºæœ¬ä½¿ç”¨-2" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨-2"><span>åŸºæœ¬ä½¿ç”¨</span></a></h3><p>æ•°æ®åº“è¡¨æ·»åŠ å­—æ®µsexï¼Œæ•°æ®ç±»å‹ä¸ºint</p><p>åˆ›å»ºé€šç”¨æšä¸¾ç±»å‹</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token annotation punctuation">@Getter</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SexEnum</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token function">MALE</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”·&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token function">FEMALE</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;å¥³&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token annotation punctuation">@EnumValue</span>  <span class="token comment">// è¯¥æ³¨è§£æ‰€æ ‡è¯†çš„å±æ€§å€¼å­˜å‚¨åˆ°æ•°æ®åº“</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">Integer</span> sex<span class="token punctuation">;</span></span>
<span class="line">	<span class="token keyword">private</span> <span class="token class-name">String</span> sexName<span class="token punctuation">;</span></span>
<span class="line">    </span>
<span class="line">	<span class="token class-name">SexEnum</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> sex<span class="token punctuation">,</span> <span class="token class-name">String</span> sexName<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span></span>
<span class="line">		<span class="token keyword">this</span><span class="token punctuation">.</span>sexName <span class="token operator">=</span> sexName<span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>é…ç½®æ‰«æé€šç”¨æšä¸¾</p><div class="language-yaml line-numbers-mode" data-highlighter="prismjs" data-ext="yml" data-title="yml"><pre><code><span class="line"><span class="token key atrule">mybatis-plus</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">configuration</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token key atrule">global-config</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token comment"># é…ç½®æ‰«æé€šç”¨æšä¸¾</span></span>
<span class="line">	<span class="token key atrule">type-enums-package</span><span class="token punctuation">:</span> com.atguigu.mybatisplus.enums</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Test</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSexEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;Enum&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token comment">//è®¾ç½®æ€§åˆ«ä¿¡æ¯ä¸ºæšä¸¾é¡¹ï¼Œä¼šå°†@EnumValueæ³¨è§£æ‰€æ ‡è¯†çš„å±æ€§å€¼å­˜å‚¨åˆ°æ•°æ®åº“</span></span>
<span class="line">	user<span class="token punctuation">.</span><span class="token function">setSex</span><span class="token punctuation">(</span><span class="token class-name">SexEnum</span><span class="token punctuation">.</span><span class="token constant">MALE</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	userMapper<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-ä»£ç ç”Ÿæˆå™¨" tabindex="-1"><a class="header-anchor" href="#_8-ä»£ç ç”Ÿæˆå™¨"><span>8. ä»£ç ç”Ÿæˆå™¨</span></a></h2><blockquote><p>Mybatisçš„é€†å‘å·¥ç¨‹ï¼šé€šè¿‡è¡¨ç”Ÿæˆå®ä½“ç±»ï¼Œmapperæ¥å£ï¼Œæ˜ å°„xmlæ–‡ä»¶</p><p>MPçš„ä»£ç ç”Ÿæˆå™¨ï¼šcontrollerï¼Œservice........ç»Ÿç»Ÿéƒ½èƒ½ç”Ÿæˆ</p></blockquote><h3 id="åŸºæœ¬ä½¿ç”¨-3" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ä½¿ç”¨-3"><span>åŸºæœ¬ä½¿ç”¨</span></a></h3><p>å¼•å…¥ä¾èµ–</p><div class="language-text line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="text" data-title="text" style="--vp-collapsed-lines:10;"><pre><code><span class="line">&lt;dependency&gt;</span>
<span class="line">	&lt;groupId&gt;com.baomidou&lt;/groupId&gt;</span>
<span class="line">	&lt;artifactId&gt;mybatis-plus-generator&lt;/artifactId&gt;</span>
<span class="line">	&lt;version&gt;3.5.1&lt;/version&gt;</span>
<span class="line">&lt;/dependency&gt;</span>
<span class="line">&lt;dependency&gt;</span>
<span class="line">	&lt;groupId&gt;org.freemarker&lt;/groupId&gt;</span>
<span class="line">	&lt;artifactId&gt;freemarker&lt;/artifactId&gt;</span>
<span class="line">	&lt;version&gt;2.3.31&lt;/version&gt;</span>
<span class="line">&lt;/dependency&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p>å¿«é€Ÿç”Ÿæˆ</p><div class="language-java line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="java" data-title="java" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FastAutoGeneratorTest</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token class-name">FastAutoGenerator</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/mybatis_plus?characterEncoding=utf-8&amp;userSSL=false&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span></span>
<span class="line">						<span class="token punctuation">.</span><span class="token function">globalConfig</span><span class="token punctuation">(</span>builder <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">							builder<span class="token punctuation">.</span><span class="token function">author</span><span class="token punctuation">(</span><span class="token string">&quot;atguigu&quot;</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®ä½œè€…</span></span>
<span class="line">									<span class="token comment">//.enableSwagger() // å¼€å¯ swagger æ¨¡å¼</span></span>
<span class="line">									<span class="token punctuation">.</span><span class="token function">fileOverride</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span>
<span class="line">									<span class="token punctuation">.</span><span class="token function">outputDir</span><span class="token punctuation">(</span><span class="token string">&quot;D://mybatis_plus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span>
<span class="line">						<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">						<span class="token punctuation">.</span><span class="token function">packageConfig</span><span class="token punctuation">(</span>builder <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">							builder<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token string">&quot;com.atguigu&quot;</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®çˆ¶åŒ…å</span></span>
<span class="line">								   <span class="token punctuation">.</span><span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token string">&quot;mybatisplus&quot;</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span>
<span class="line">								   <span class="token punctuation">.</span><span class="token function">pathInfo</span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonMap</span><span class="token punctuation">(</span><span class="token class-name">OutputFile</span><span class="token punctuation">.</span>mapperXml<span class="token punctuation">,</span> <span class="token string">&quot;D://mybatis_plus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span>
<span class="line">						<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">						<span class="token punctuation">.</span><span class="token function">strategyConfig</span><span class="token punctuation">(</span>builder <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">							builder<span class="token punctuation">.</span><span class="token function">addInclude</span><span class="token punctuation">(</span><span class="token string">&quot;t_user&quot;</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®éœ€è¦ç”Ÿæˆçš„è¡¨å</span></span>
<span class="line">								   <span class="token punctuation">.</span><span class="token function">addTablePrefix</span><span class="token punctuation">(</span><span class="token string">&quot;t_&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span>
<span class="line">						<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"> 						<span class="token punctuation">.</span><span class="token function">templateEngine</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FreemarkerTemplateEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span>
<span class="line">						<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><h2 id="_9-å¤šæ•°æ®æº" tabindex="-1"><a class="header-anchor" href="#_9-å¤šæ•°æ®æº"><span>9. å¤šæ•°æ®æº</span></a></h2><blockquote><p>é€‚ç”¨äºå¤šç§åœºæ™¯ï¼šçº¯ç²¹å¤šåº“ã€ è¯»å†™åˆ†ç¦»ã€ ä¸€ä¸»å¤šä»ã€ æ··åˆæ¨¡å¼ç­‰</p></blockquote><h3 id="æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“" tabindex="-1"><a class="header-anchor" href="#æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“"><span>æ¨¡æ‹Ÿä¸€ä¸ªçº¯ç²¹å¤šåº“</span></a></h3><blockquote><p>è¯´æ˜ï¼šæˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªåº“ï¼Œæ¯ä¸ªåº“ä¸€å¼ è¡¨ï¼Œé€šè¿‡ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹åˆ†åˆ«è·å–ä¸¤å¼ è¡¨æ•°æ®</p></blockquote><p><strong>å¼•å…¥ä¾èµ–</strong></p><div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.baomidou<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dynamic-datasource-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é…ç½®å¤šæ•°æ®æº</strong></p><div class="language-yaml line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="yml" data-title="yml" style="--vp-collapsed-lines:10;"><pre><code><span class="line"><span class="token key atrule">spring</span><span class="token punctuation">:</span></span>
<span class="line">	<span class="token comment"># é…ç½®æ•°æ®æºä¿¡æ¯</span></span>
<span class="line">	<span class="token key atrule">datasource</span><span class="token punctuation">:</span></span>
<span class="line">		<span class="token key atrule">dynamic</span><span class="token punctuation">:</span></span>
<span class="line">			<span class="token comment"># è®¾ç½®é»˜è®¤çš„æ•°æ®æºæˆ–è€…æ•°æ®æºç»„,é»˜è®¤å€¼å³ä¸ºmaster</span></span>
<span class="line">			<span class="token key atrule">primary</span><span class="token punctuation">:</span> master</span>
<span class="line">			<span class="token comment"># ä¸¥æ ¼åŒ¹é…æ•°æ®æº,é»˜è®¤false  å¦‚æœè®¾ç½®ä¸ºtrueæœªåŒ¹é…åˆ°æŒ‡å®šæ•°æ®æºæ—¶æŠ›å¼‚å¸¸,è®¾ç½®ä¸ºfalseä½¿ç”¨é»˜è®¤æ•°æ®æº</span></span>
<span class="line">			<span class="token key atrule">strict</span><span class="token punctuation">:</span> <span class="token boolean important">false</span></span>
<span class="line">			<span class="token key atrule">datasource</span><span class="token punctuation">:</span></span>
<span class="line">				<span class="token key atrule">master</span><span class="token punctuation">:</span></span>
<span class="line">					<span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mybatis_plus<span class="token punctuation">?</span>characterEncoding=utf8<span class="token important">&amp;useSSL=false</span></span>
<span class="line">					<span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver</span>
<span class="line">					<span class="token key atrule">username</span><span class="token punctuation">:</span> root</span>
<span class="line">					<span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span></span>
<span class="line">				<span class="token key atrule">slave_1</span><span class="token punctuation">:</span></span>
<span class="line">					<span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/mybatis_plus_1<span class="token punctuation">?</span>characterEncoding=utf8<span class="token important">&amp;useSSL=false</span></span>
<span class="line">					<span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver</span>
<span class="line">					<span class="token key atrule">username</span><span class="token punctuation">:</span> root</span>
<span class="line">					<span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><p><strong>åˆ›å»ºservice</strong></p><div class="language-text line-numbers-mode has-collapsed-lines collapsed" data-highlighter="prismjs" data-ext="text" data-title="text" style="--vp-collapsed-lines:10;"><pre><code><span class="line">@DS(&quot;slave_1&quot;)</span>
<span class="line">@Service</span>
<span class="line">public class ProductServiceImpl extends ServiceImpl&lt;ProductMapper, Product&gt; implements ProductService {</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">@DS(&quot;master&quot;)</span>
<span class="line">@Service</span>
<span class="line">public class UserServiceImpl extends ServiceImpl&lt;UserMapper, User&gt; implements UserService {</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><blockquote><p>@DSæ–¹æ³•ä¸Šçš„æ³¨è§£ä¼˜å…ˆäºç±»ä¸Šçš„æ³¨è§£</p></blockquote><h2 id="_10-mybatisx" tabindex="-1"><a class="header-anchor" href="#_10-mybatisx"><span>10. MybatisX</span></a></h2><blockquote><ul><li>MyBatis-Plusä¸ºæˆ‘ä»¬æä¾›äº†å¼ºå¤§çš„mapperå’Œserviceæ¨¡æ¿ï¼Œèƒ½å¤Ÿå¤§å¤§çš„æé«˜å¼€å‘æ•ˆç‡</li><li>ä½†æ˜¯åœ¨çœŸæ­£å¼€å‘è¿‡ç¨‹ä¸­ï¼ŒMyBatis-Pluså¹¶ä¸èƒ½ä¸ºæˆ‘ä»¬è§£å†³æ‰€æœ‰é—®é¢˜ï¼Œä¾‹å¦‚ä¸€äº›å¤æ‚çš„SQLï¼Œå¤šè¡¨ è”æŸ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦è‡ªå·±å»ç¼–å†™ä»£ç å’ŒSQLè¯­å¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•å¿«é€Ÿçš„è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Œè¿™ä¸ªæ—¶å€™å¯ ä»¥ä½¿ç”¨MyBatisXæ’ä»¶</li><li>MyBatisXä¸€æ¬¾åŸºäº IDEA çš„å¿«é€Ÿå¼€å‘æ’ä»¶ï¼Œä¸ºæ•ˆç‡è€Œç”Ÿã€‚</li></ul></blockquote><p>ä½¿ç”¨æ–¹æ³•ï¼šhttps://baomidou.com/guides/mybatis-x/</p><p>IDEA å®‰è£… mybatisx æ’ä»¶ï¼Œå³å¯æ ¹æ®æ•°æ®åº“è¡¨ä¸€é”®ç”Ÿæˆå¸¸ç”¨CRUD</p><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241017234437611.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://gitee.com/private_crh/notes/raw/master/typora/image-20241017234456608.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>åœ¨mapperé…ç½®ç±»ä¸­åŠ å…¥@MapperScan(&quot;åŒ…å.mapper&quot;)</p><p>åˆ™mapperä¸‹çš„mapperéƒ½æ— éœ€å†™@Mapperæ³¨è§£</p></blockquote></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/codenotes/back/frame/Mybatis.html" aria-label="Mybatis"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><img class="icon" src="/icon/mybatis.svg" alt aria-hidden no-view style="">Mybatis</div></a><!----></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper" vp-footer><div class="vp-footer">Ahzyã®å­¦ä¹ ç¬”è®°</div><div class="vp-copyright">Copyright Â© 2024 æ¨åšè¶…, Ahzy </div></footer></div><!--]--><!--[--><!----><!----><!----><!--[--><!--]--><!----><!----><!----><!----><!----><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-eWV4nnR8.js" defer></script>
  </body>
</html>
