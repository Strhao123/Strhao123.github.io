import{u as $,h as ae,i as te,j as J,k as se,P as oe,t as ce,l as le,m as x,n as f,p as ne,w as U,q as t,v as re,R as I,x as ie,y as Ee,z as ve,C as de,A as ue,B as Be,D as he,E as me,F as Ae,G as pe,H as be,I as O,J as _,K as ge,L as F,M as ke}from"./app-eWV4nnR8.js";const ye=["/","/info/aboutme.html","/info/web.html","/codenotes/back/","/codenotes/basic/","/codenotes/ui/","/floatinglife/cooker/chicken.html","/floatinglife/cooker/","/floatinglife/feeling/","/floatinglife/question/hope.html","/floatinglife/question/java.html","/floatinglife/question/","/floatinglife/iter/20241217.html","/floatinglife/iter/20241220.html","/floatinglife/iter/20241224.html","/floatinglife/iter/","/floatinglife/thinker/","/floatinglife/tool/","/floatinglife/tool/renqing.html","/codenotes/back/Algorithms/DataStructure.html","/codenotes/back/Algorithms/","/codenotes/back/database/Mysql.html","/codenotes/back/devtool/Git.html","/codenotes/back/devtool/Linux%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-B%E7%AB%99%E9%9F%A9%E9%A1%BA%E5%B9%B3.html","/codenotes/back/devtool/Maven.html","/codenotes/back/devtool/","/codenotes/back/frame/Mybatis.html","/codenotes/back/frame/MybatisPlus.html","/codenotes/back/frame/","/codenotes/back/javacore/","/codenotes/back/javaweb/cookie.html","/codenotes/back/javaweb/filter.html","/codenotes/back/javaweb/JDBC.html","/codenotes/back/javaweb/json.html","/codenotes/back/javaweb/JSP.html","/codenotes/back/javaweb/Listener.html","/codenotes/back/javaweb/Servlet.html","/codenotes/back/javaweb/Tomcat.html","/codenotes/back/javaweb/xml.html","/codenotes/back/road/road.html","/codenotes/basic/math/%E6%A6%82%E7%8E%87%E8%AE%BA.html","/codenotes/ui/css/css01.html","/codenotes/ui/css/css02.html","/codenotes/ui/css/css03.html","/codenotes/ui/css/css04.html","/codenotes/ui/css/css05.html","/codenotes/ui/html/html1.html","/codenotes/ui/html/html2.html","/codenotes/ui/js/js01.html","/codenotes/ui/js/js02.html","/codenotes/ui/js/js03.html","/codenotes/ui/js/js04.html","/codenotes/ui/js/js05.html","/codenotes/ui/road/road.html","/codenotes/back/javacore/javaadvance/1IO(%E5%BC%82%E5%B8%B8_File_%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B%EF%BC%89.html","/codenotes/back/javacore/javaadvance/2IO%E6%B5%81%EF%BC%88%E5%AD%97%E8%8A%82%E6%B5%81_%E5%AD%97%E7%AC%A6%E6%B5%81%EF%BC%89.html","/codenotes/back/javacore/javaadvance/3IO%E6%B5%81%EF%BC%88%E5%85%B6%E4%BB%96%E6%B5%81%EF%BC%89.html","/codenotes/back/javacore/javaadvance/log%E6%97%A5%E5%BF%97.html","/codenotes/back/javacore/javaadvance/xml.html","/codenotes/back/javacore/javaadvance/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html","/codenotes/back/javacore/javaadvance/%E5%8F%8D%E5%B0%84_%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86.html","/codenotes/back/javacore/javaadvance/%E5%A4%9A%E7%BA%BF%E7%A8%8B01.html","/codenotes/back/javacore/javaadvance/%E5%A4%9A%E7%BA%BF%E7%A8%8B02.html","/codenotes/back/javacore/javaadvance/%E6%B3%A8%E8%A7%A3.html","/codenotes/back/javacore/javaadvance/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8.html","/codenotes/back/javacore/javaadvance/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html","/codenotes/back/spring/springboot/1spring%E4%B8%8Espringboot.html","/codenotes/back/spring/springboot/2%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86.html","/codenotes/back/spring/springboot/3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html","/codenotes/back/spring/springboot/4web%E5%BC%80%E5%8F%91.html","/codenotes/back/spring/springboot/5%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE.html","/codenotes/back/spring/springboot/6%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95.html","/codenotes/back/spring/springboot/7%E6%8C%87%E6%A0%87%E7%9B%91%E6%8E%A7.html","/codenotes/back/spring/springboot/8%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90.html","/codenotes/back/spring/spring/1Spring%205%20%E6%A1%86%E6%9E%B6%E6%A6%82%E8%BF%B0.html","/codenotes/back/spring/spring/2IOC.html","/codenotes/back/spring/spring/3AOP.html","/codenotes/back/spring/spring/4jdbctemplate.html","/codenotes/back/spring/spring/5%E4%BA%8B%E5%8A%A1.html","/codenotes/back/spring/spring/6Spring5%20%E6%A1%86%E6%9E%B6%E6%96%B0%E5%8A%9F%E8%83%BD.html","/codenotes/back/spring/spring/7%E5%BA%95%E5%B1%82.html","/codenotes/back/javacore/javabasic/day01-java%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html","/codenotes/back/javacore/javabasic/day02-Java%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95.html","/codenotes/back/javacore/javabasic/day03-%E8%BF%90%E7%AE%97%E7%AC%A6%E5%92%8C%E8%A1%A8%E8%BE%BE%E5%BC%8F.html","/codenotes/back/javacore/javabasic/day04-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5.html","/codenotes/back/javacore/javabasic/day05-%E5%BE%AA%E7%8E%AF%E9%AB%98%E7%BA%A7.html","/codenotes/back/javacore/javabasic/day05-%E6%95%B0%E7%BB%84.html","/codenotes/back/javacore/javabasic/day06-%E6%96%B9%E6%B3%95.html","/codenotes/back/javacore/javabasic/day08-%E6%89%A9%E5%B1%95%EF%BC%9A%E9%94%AE%E7%9B%98%E5%BD%95%E5%85%A5%E7%AC%94%E8%AE%B0.html","/codenotes/back/javacore/javabasic/day08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1.html","/codenotes/back/javacore/javabasic/day08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6.html","/codenotes/back/javacore/javabasic/day08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B62.html","/codenotes/back/javacore/javabasic/day08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B63.html","/codenotes/back/javacore/javabasic/day09-API.html","/codenotes/back/javacore/javabasic/day09-API02.html","/codenotes/back/javacore/javabasic/day09-api%E4%BD%BF%E7%94%A8.html","/codenotes/back/javacore/javabasic/day09-%E5%AD%97%E7%AC%A6%E4%B8%B2.html","/codenotes/back/javacore/javabasic/day09-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F.html","/codenotes/back/javacore/javabasic/day10-ArrayList.html","/codenotes/back/javacore/javabasic/day10-stream%E6%B5%81%E5%92%8C%E6%96%B9%E6%B3%95%E5%BC%95%E7%94%A8.html","/codenotes/back/javacore/javabasic/day10-%E9%9B%86%E5%90%8801.html","/codenotes/back/javacore/javabasic/day10-%E9%9B%86%E5%90%8802.html","/codenotes/back/javacore/javabasic/day10-%E9%9B%86%E5%90%8803.html","/codenotes/back/javacore/javabasic/day10-%E9%9B%86%E5%90%8804.html","/codenotes/back/spring/springmvc/10%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86%E5%99%A8.html","/codenotes/back/spring/springmvc/11%E6%B3%A8%E8%A7%A3%E9%85%8D%E7%BD%AESpringMVC.html","/codenotes/back/spring/springmvc/12SpringMVC%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.html","/codenotes/back/spring/springmvc/1%E7%AE%80%E4%BB%8B.html","/codenotes/back/spring/springmvc/2@RequestMapping%E6%B3%A8%E8%A7%A3.html","/codenotes/back/spring/springmvc/3%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0.html","/codenotes/back/spring/springmvc/4%E5%9F%9F%E5%AF%B9%E8%B1%A1%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE.html","/codenotes/back/spring/springmvc/5SpringMVC%E7%9A%84%E8%A7%86%E5%9B%BE.html","/codenotes/back/spring/springmvc/6RESTful.html","/codenotes/back/spring/springmvc/7HttpMessageConverter.html","/codenotes/back/spring/springmvc/8%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD.html","/codenotes/back/spring/springmvc/9%E6%8B%A6%E6%88%AA%E5%99%A8.html","/404.html","/category/","/category/%E4%BC%98%E8%B4%A8%E6%96%87%E7%AB%A0%E6%94%B6%E5%BD%95/","/category/%E6%97%A5%E5%B8%B8/","/category/%E4%B8%BA%E4%BA%BA%E5%A4%84%E4%BA%8B/","/tag/","/tag/%E7%BE%8E%E9%A3%9F/","/tag/%E6%AF%94%E8%B5%9B/","/tag/%E5%A4%A7%E5%AD%A6%E7%94%9F%E6%B4%BB/","/tag/%E4%BA%A4%E6%B5%81/","/article/","/star/","/timeline/"],je="SEARCH_PRO_QUERY_HISTORY",A=$(je,[]),fe=()=>{const{queryHistoryCount:s}=F,o=s>0;return{enabled:o,queryHistory:A,addQueryHistory:c=>{o&&(A.value=Array.from(new Set([c,...A.value.slice(0,s-1)])))},removeQueryHistory:c=>{A.value=[...A.value.slice(0,c),...A.value.slice(c+1)]}}},Q=s=>ye[s.id]+("anchor"in s?`#${s.anchor}`:""),Fe="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:T}=F,p=$(Fe,[]),Ce=()=>{const s=T>0;return{enabled:s,resultHistory:p,addResultHistory:o=>{if(s){const c={link:Q(o),display:o.display};"header"in o&&(c.header=o.header),p.value=[c,...p.value.slice(0,T-1)]}},removeResultHistory:o=>{p.value=[...p.value.slice(0,o),...p.value.slice(o+1)]}}},De=s=>{const o=de(),c=J(),C=ue(),n=x(0),k=f(()=>n.value>0),B=Be([]);return he(()=>{const{search:h,terminate:D}=me(),b=ge(E=>{const g=E.join(" "),{searchFilter:w=u=>u,splitWord:H,suggestionsFilter:L,...m}=o.value;g?(n.value+=1,h(E.join(" "),c.value,m).then(u=>w(u,g,c.value,C.value)).then(u=>{n.value-=1,B.value=u}).catch(u=>{console.warn(u),n.value-=1,n.value||(B.value=[])})):B.value=[]},F.searchDelay-F.suggestDelay);U([s,c],([E])=>b(E),{immediate:!0}),Ae(()=>{D()})}),{isSearching:k,results:B}};var He=ae({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:o}){const c=te(),C=J(),n=se(oe),{enabled:k,addQueryHistory:B,queryHistory:h,removeQueryHistory:D}=fe(),{enabled:b,resultHistory:E,addResultHistory:g,removeResultHistory:w}=Ce(),H=k||b,L=ce(s,"queries"),{results:m,isSearching:u}=De(L),l=le({isQuery:!0,index:0}),v=x(0),d=x(0),M=f(()=>H&&(h.value.length>0||E.value.length>0)),R=f(()=>m.value.length>0),S=f(()=>m.value[v.value]||null),V=()=>{const{isQuery:e,index:a}=l;a===0?(l.isQuery=!e,l.index=e?E.value.length-1:h.value.length-1):l.index=a-1},Y=()=>{const{isQuery:e,index:a}=l;a===(e?h.value.length-1:E.value.length-1)?(l.isQuery=!e,l.index=0):l.index=a+1},G=()=>{v.value=v.value>0?v.value-1:m.value.length-1,d.value=S.value.contents.length-1},z=()=>{v.value=v.value<m.value.length-1?v.value+1:0,d.value=0},K=()=>{d.value<S.value.contents.length-1?d.value+=1:z()},N=()=>{d.value>0?d.value-=1:G()},q=e=>e.map(a=>ke(a)?a:t(a[0],a[1])),W=e=>{if(e.type==="customField"){const a=pe[e.index]||"$content",[r,j=""]=be(a)?a[C.value].split("$content"):a.split("$content");return e.display.map(i=>t("div",q([r,...i,j])))}return e.display.map(a=>t("div",q(a)))},y=()=>{v.value=0,d.value=0,o("updateQuery",""),o("close")},X=()=>k?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},n.value.queryHistory),h.value.map((e,a)=>t("div",{class:["search-pro-result-item",{active:l.isQuery&&l.index===a}],onClick:()=>{o("updateQuery",e)}},[t(O,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},e),t("button",{class:"search-pro-remove-icon",innerHTML:_,onClick:r=>{r.preventDefault(),r.stopPropagation(),D(a)}})]))])):null,Z=()=>b?t("ul",{class:"search-pro-result-list"},t("li",{class:"search-pro-result-list-item"},[t("div",{class:"search-pro-result-title"},n.value.resultHistory),E.value.map((e,a)=>t(I,{to:e.link,class:["search-pro-result-item",{active:!l.isQuery&&l.index===a}],onClick:()=>{y()}},()=>[t(O,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[e.header?t("div",{class:"content-header"},e.header):null,t("div",e.display.map(r=>q(r)).flat())]),t("button",{class:"search-pro-remove-icon",innerHTML:_,onClick:r=>{r.preventDefault(),r.stopPropagation(),w(a)}})]))])):null;return ne("keydown",e=>{if(s.isFocusing){if(R.value){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")K();else if(e.key==="Enter"){const a=S.value.contents[d.value];B(s.queries.join(" ")),g(a),c.push(Q(a)),y()}}else if(b){if(e.key==="ArrowUp")V();else if(e.key==="ArrowDown")Y();else if(e.key==="Enter"){const{index:a}=l;l.isQuery?(o("updateQuery",h.value[a]),e.preventDefault()):(c.push(E.value[a].link),y())}}}}),U([v,d],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>t("div",{class:["search-pro-result-wrapper",{empty:s.queries.length?!R.value:!M.value}],id:"search-pro-results"},s.queries.length?u.value?t(re,{hint:n.value.searching}):R.value?t("ul",{class:"search-pro-result-list"},m.value.map(({title:e,contents:a},r)=>{const j=v.value===r;return t("li",{class:["search-pro-result-list-item",{active:j}]},[t("div",{class:"search-pro-result-title"},e||n.value.defaultTitle),a.map((i,ee)=>{const P=j&&d.value===ee;return t(I,{to:Q(i),class:["search-pro-result-item",{active:P,"aria-selected":P}],onClick:()=>{B(s.queries.join(" ")),g(i),y()}},()=>[i.type==="text"?null:t(i.type==="title"?ie:i.type==="heading"?Ee:ve,{class:"search-pro-result-type"}),t("div",{class:"search-pro-result-content"},[i.type==="text"&&i.header?t("div",{class:"content-header"},i.header):null,t("div",W(i))])])})])})):n.value.emptyResult:H?M.value?[X(),Z()]:n.value.emptyHistory:n.value.emptyResult)}});export{He as default};
